<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <link rel="icon" href="/favicon.ico" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Mini File Manager</title>
  <style>
    body {
      font-family: sans-serif;
    }

    .form-group {
      display: flex;
      flex-direction: column;
    }

    #file-manager {
      height: 600px;
    }

    .file-picker {
      display: block;
      margin: 1rem 0;

    }
  </style>
</head>

<body>
  <div id="Station_photos" class="multiple entity-form-file-picker" data-name="Station[photos]" data-file-picker>
    <div>
      <input type="text" id="Station_photos_0_liipId" name="Station[photos][0][liipId]"
        value="@public_uploads:manager/eugene.jpg">
      <input type="text" id="Station_photos_0_mimeGroup" name="Station[photos][0][mimeGroup]" value="image">
      <input type="text" id="Station_photos_0_mimeType" name="Station[photos][0][mimeType]" value="image/jpeg">
      <input type="text" id="Station_photos_0_filename" name="Station[photos][0][filename]" value="eugene.jpg">
      <input type="text" id="Station_photos_0_directory" name="Station[photos][0][directory]" value="manager">
      <input type="text" id="Station_photos_0_origin" name="Station[photos][0][origin]" value="public_uploads">
      <input type="text" id="Station_photos_0_imageWidth" name="Station[photos][0][imageWidth]" value="453">
      <input type="text" id="Station_photos_0_imageHeight" name="Station[photos][0][imageHeight]" value="604">
      <input type="text" id="Station_photos_0_type" name="Station[photos][0][type]" value="file">
      <input type="text" id="Station_photos_0_size" name="Station[photos][0][size]" value="51931">
      <input type="text" id="Station_photos_0_createdAt" name="Station[photos][0][createdAt]"
        value="2022-07-18T13:19:59+00:00">
      <input type="text" id="Station_photos_0_icon" name="Station[photos][0][icon]" value="image-jpg.svg">
      <input type="text" id="Station_photos_0_public" name="Station[photos][0][public]" value="1">
    </div>
  </div>

  <div id="Station_photos" class="simple entity-form-file-picker" data-name="Station[photos]" data-file-picker>
    <div>
      <input type="text" id="Station_photos_liipId" name="Station[photos][liipId]"
        value="@public_uploads:manager/eugene.jpg">
      <input type="text" id="Station_photos_mimeGroup" name="Station[photos][mimeGroup]" value="image">
      <input type="text" id="Station_photos_mimeType" name="Station[photos][mimeType]" value="image/jpeg">
      <input type="text" id="Station_photos_filename" name="Station[photos][filename]" value="eugene.jpg">
      <input type="text" id="Station_photos_directory" name="Station[photos][directory]" value="manager">
      <input type="text" id="Station_photos_origin" name="Station[photos][origin]" value="public_uploads">
      <input type="text" id="Station_photos_imageWidth" name="Station[photos][imageWidth]" value="453">
      <input type="text" id="Station_photos_imageHeight" name="Station[photos][imageHeight]" value="604">
      <input type="text" id="Station_photos_type" name="Station[photos][type]" value="file">
      <input type="text" id="Station_photos_size" name="Station[photos][size]" value="51931">
      <input type="text" id="Station_photos_createdAt" name="Station[photos][createdAt]"
        value="2022-07-18T13:19:59+00:00">
      <input type="text" id="Station_photos_icon" name="Station[photos][icon]" value="image-jpg.svg">
      <input type="text" id="Station_photos_public" name="Station[photos][public]" value="1">
    </div>
  </div>
  <script type="module">
    import "./src/css/other-theme.scss";
    import { entityFormFilePicker } from "./src/index.js";

    document.addEventListener("keyup", (e) => {
      if (e.code === "Tab") {
        document.body.classList.add("with-a11y");
      }
    });

    let fileManagerOptions = {
      debug: true,
      endPoint: "http://mini-file-manager-template.localhost/media-manager",
      isAdmin: false,
      entryPoints: [
        {
          directory: "",
          origin: "public_uploads",
          readOnly: false,
          icon: "fa-lock",
          label: "Posts",
          webPrefix: '/uploads'
        },
        {
          directory: "posts/abc",
          origin: "public_uploads",
          readOnly: false,
          icon: "fa-lock",
          label: "Posts abc",
          webPrefix: '/uploads'
        },
      ],
      locale: "fr",
      multiple: false,
      fileValidation: {
        mimeGroup: "video",
        // allowDir: false,
        imageOptions: {
          allowSvg: true,
          width: 1200,
          height: 900,
        },
      },

      form: {
        filter: "small",
        type: "image"
      }
    };

    document.querySelectorAll('.simple.entity-form-file-picker').forEach(($filePicker) => {
      entityFormFilePicker($filePicker, fileManagerOptions)
    })

  </script>
</body>

</html>