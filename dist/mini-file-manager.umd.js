var __defProp=Object.defineProperty,__defProps=Object.defineProperties,__getOwnPropDescs=Object.getOwnPropertyDescriptors,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=(t,e,i)=>e in t?__defProp(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i,__spreadValues=(t,e)=>{for(var i in e||(e={}))__hasOwnProp.call(e,i)&&__defNormalProp(t,i,e[i]);if(__getOwnPropSymbols)for(var i of __getOwnPropSymbols(e))__propIsEnum.call(e,i)&&__defNormalProp(t,i,e[i]);return t},__spreadProps=(t,e)=>__defProps(t,__getOwnPropDescs(e)),__publicField=(t,e,i)=>(__defNormalProp(t,"symbol"!=typeof e?e+"":e,i),i);!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).miniFileManager={})}(this,(function(t){"use strict";function e(t,e){const i=Object.create(null),n=t.split(",");for(let o=0;o<n.length;o++)i[n[o]]=!0;return e?t=>!!i[t.toLowerCase()]:t=>!!i[t]}const i=e("Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt"),n=e("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly");function o(t){if(k(t)){const e={};for(let i=0;i<t.length;i++){const n=t[i],a=o(S(n)?s(n):n);if(a)for(const t in a)e[t]=a[t]}return e}if(L(t))return t}const a=/;(?![^(]*\))/g,r=/:(.+)/;function s(t){const e={};return t.split(a).forEach((t=>{if(t){const i=t.split(r);i.length>1&&(e[i[0].trim()]=i[1].trim())}})),e}function l(t){let e="";if(S(t))e=t;else if(k(t))for(let i=0;i<t.length;i++){const n=l(t[i]);n&&(e+=n+" ")}else if(L(t))for(const i in t)t[i]&&(e+=i+" ");return e.trim()}function c(t,e){if(t===e)return!0;let i=M(t),n=M(e);if(i||n)return!(!i||!n)&&t.getTime()===e.getTime();if(i=k(t),n=k(e),i||n)return!(!i||!n)&&function(t,e){if(t.length!==e.length)return!1;let i=!0;for(let n=0;i&&n<t.length;n++)i=c(t[n],e[n]);return i}(t,e);if(i=L(t),n=L(e),i||n){if(!i||!n)return!1;if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const i in t){const n=t.hasOwnProperty(i),o=e.hasOwnProperty(i);if(n&&!o||!n&&o||!c(t[i],e[i]))return!1}}return String(t)===String(e)}function d(t,e){return t.findIndex((t=>c(t,e)))}const h=t=>null==t?"":L(t)?JSON.stringify(t,u,2):String(t),u=(t,e)=>O(e)?{[`Map(${e.size})`]:[...e.entries()].reduce(((t,[e,i])=>(t[`${e} =>`]=i,t)),{})}:E(e)?{[`Set(${e.size})`]:[...e.values()]}:!L(e)||k(e)||W(e)?e:String(e),p={},f=[],m=()=>{},g=()=>!1,v=/^on[^a-z]/,y=t=>v.test(t),b=t=>t.startsWith("onUpdate:"),w=Object.assign,_=(t,e)=>{const i=t.indexOf(e);i>-1&&t.splice(i,1)},x=Object.prototype.hasOwnProperty,C=(t,e)=>x.call(t,e),k=Array.isArray,O=t=>"[object Map]"===V(t),E=t=>"[object Set]"===V(t),M=t=>t instanceof Date,D=t=>"function"==typeof t,S=t=>"string"==typeof t,F=t=>"symbol"==typeof t,L=t=>null!==t&&"object"==typeof t,P=t=>L(t)&&D(t.then)&&D(t.catch),T=Object.prototype.toString,V=t=>T.call(t),W=t=>"[object Object]"===V(t),H=t=>S(t)&&"NaN"!==t&&"-"!==t[0]&&""+parseInt(t,10)===t,A=e(",key,ref,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),R=t=>{const e=Object.create(null);return i=>e[i]||(e[i]=t(i))},N=/-(\w)/g,I=R((t=>t.replace(N,((t,e)=>e?e.toUpperCase():"")))),B=/\B([A-Z])/g,j=R((t=>t.replace(B,"-$1").toLowerCase())),$=R((t=>t.charAt(0).toUpperCase()+t.slice(1))),U=R((t=>t?`on${$(t)}`:"")),z=(t,e)=>t!==e&&(t==t||e==e),X=(t,e)=>{for(let i=0;i<t.length;i++)t[i](e)},Y=(t,e,i)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:i})},G=t=>{const e=parseFloat(t);return isNaN(e)?t:e},q=new WeakMap,K=[];let J;const Q=Symbol(""),Z=Symbol("");function tt(t,e=p){(function(t){return t&&!0===t._isEffect})(t)&&(t=t.raw);const i=function(t,e){const i=function(){if(!i.active)return t();if(!K.includes(i)){nt(i);try{return at.push(ot),ot=!0,K.push(i),J=i,t()}finally{K.pop(),st(),J=K[K.length-1]}}};return i.id=it++,i.allowRecurse=!!e.allowRecurse,i._isEffect=!0,i.active=!0,i.raw=t,i.deps=[],i.options=e,i}(t,e);return e.lazy||i(),i}function et(t){t.active&&(nt(t),t.options.onStop&&t.options.onStop(),t.active=!1)}let it=0;function nt(t){const{deps:e}=t;if(e.length){for(let i=0;i<e.length;i++)e[i].delete(t);e.length=0}}let ot=!0;const at=[];function rt(){at.push(ot),ot=!1}function st(){const t=at.pop();ot=void 0===t||t}function lt(t,e,i){if(!ot||void 0===J)return;let n=q.get(t);n||q.set(t,n=new Map);let o=n.get(i);o||n.set(i,o=new Set),o.has(J)||(o.add(J),J.deps.push(o))}function ct(t,e,i,n,o,a){const r=q.get(t);if(!r)return;const s=new Set,l=t=>{t&&t.forEach((t=>{(t!==J||t.allowRecurse)&&s.add(t)}))};if("clear"===e)r.forEach(l);else if("length"===i&&k(t))r.forEach(((t,e)=>{("length"===e||e>=n)&&l(t)}));else switch(void 0!==i&&l(r.get(i)),e){case"add":k(t)?H(i)&&l(r.get("length")):(l(r.get(Q)),O(t)&&l(r.get(Z)));break;case"delete":k(t)||(l(r.get(Q)),O(t)&&l(r.get(Z)));break;case"set":O(t)&&l(r.get(Q))}s.forEach((t=>{t.options.scheduler?t.options.scheduler(t):t()}))}const dt=e("__proto__,__v_isRef,__isVue"),ht=new Set(Object.getOwnPropertyNames(Symbol).map((t=>Symbol[t])).filter(F)),ut=vt(),pt=vt(!1,!0),ft=vt(!0),mt=gt();function gt(){const t={};return["includes","indexOf","lastIndexOf"].forEach((e=>{t[e]=function(...t){const i=ie(this);for(let e=0,o=this.length;e<o;e++)lt(i,0,e+"");const n=i[e](...t);return-1===n||!1===n?i[e](...t.map(ie)):n}})),["push","pop","shift","unshift","splice"].forEach((e=>{t[e]=function(...t){rt();const i=ie(this)[e].apply(this,t);return st(),i}})),t}function vt(t=!1,e=!1){return function(i,n,o){if("__v_isReactive"===n)return!t;if("__v_isReadonly"===n)return t;if("__v_raw"===n&&o===(t?e?Gt:Yt:e?Xt:zt).get(i))return i;const a=k(i);if(!t&&a&&C(mt,n))return Reflect.get(mt,n,o);const r=Reflect.get(i,n,o);if(F(n)?ht.has(n):dt(n))return r;if(t||lt(i,0,n),e)return r;if(ae(r)){return!a||!H(n)?r.value:r}return L(r)?t?Jt(r):Kt(r):r}}function yt(t=!1){return function(e,i,n,o){let a=e[i];if(!t&&(n=ie(n),a=ie(a),!k(e)&&ae(a)&&!ae(n)))return a.value=n,!0;const r=k(e)&&H(i)?Number(i)<e.length:C(e,i),s=Reflect.set(e,i,n,o);return e===ie(o)&&(r?z(n,a)&&ct(e,"set",i,n):ct(e,"add",i,n)),s}}const bt={get:ut,set:yt(),deleteProperty:function(t,e){const i=C(t,e);t[e];const n=Reflect.deleteProperty(t,e);return n&&i&&ct(t,"delete",e,void 0),n},has:function(t,e){const i=Reflect.has(t,e);return F(e)&&ht.has(e)||lt(t,0,e),i},ownKeys:function(t){return lt(t,0,k(t)?"length":Q),Reflect.ownKeys(t)}},wt={get:ft,set:(t,e)=>!0,deleteProperty:(t,e)=>!0},_t=w({},bt,{get:pt,set:yt(!0)}),xt=t=>L(t)?Kt(t):t,Ct=t=>L(t)?Jt(t):t,kt=t=>t,Ot=t=>Reflect.getPrototypeOf(t);function Et(t,e,i=!1,n=!1){const o=ie(t=t.__v_raw),a=ie(e);e!==a&&!i&&lt(o,0,e),!i&&lt(o,0,a);const{has:r}=Ot(o),s=n?kt:i?Ct:xt;return r.call(o,e)?s(t.get(e)):r.call(o,a)?s(t.get(a)):void(t!==o&&t.get(e))}function Mt(t,e=!1){const i=this.__v_raw,n=ie(i),o=ie(t);return t!==o&&!e&&lt(n,0,t),!e&&lt(n,0,o),t===o?i.has(t):i.has(t)||i.has(o)}function Dt(t,e=!1){return t=t.__v_raw,!e&&lt(ie(t),0,Q),Reflect.get(t,"size",t)}function St(t){t=ie(t);const e=ie(this);return Ot(e).has.call(e,t)||(e.add(t),ct(e,"add",t,t)),this}function Ft(t,e){e=ie(e);const i=ie(this),{has:n,get:o}=Ot(i);let a=n.call(i,t);a||(t=ie(t),a=n.call(i,t));const r=o.call(i,t);return i.set(t,e),a?z(e,r)&&ct(i,"set",t,e):ct(i,"add",t,e),this}function Lt(t){const e=ie(this),{has:i,get:n}=Ot(e);let o=i.call(e,t);o||(t=ie(t),o=i.call(e,t)),n&&n.call(e,t);const a=e.delete(t);return o&&ct(e,"delete",t,void 0),a}function Pt(){const t=ie(this),e=0!==t.size,i=t.clear();return e&&ct(t,"clear",void 0,void 0),i}function Tt(t,e){return function(i,n){const o=this,a=o.__v_raw,r=ie(a),s=e?kt:t?Ct:xt;return!t&&lt(r,0,Q),a.forEach(((t,e)=>i.call(n,s(t),s(e),o)))}}function Vt(t,e,i){return function(...n){const o=this.__v_raw,a=ie(o),r=O(a),s="entries"===t||t===Symbol.iterator&&r,l="keys"===t&&r,c=o[t](...n),d=i?kt:e?Ct:xt;return!e&&lt(a,0,l?Z:Q),{next(){const{value:t,done:e}=c.next();return e?{value:t,done:e}:{value:s?[d(t[0]),d(t[1])]:d(t),done:e}},[Symbol.iterator](){return this}}}}function Wt(t){return function(...e){return"delete"!==t&&this}}function Ht(){const t={get(t){return Et(this,t)},get size(){return Dt(this)},has:Mt,add:St,set:Ft,delete:Lt,clear:Pt,forEach:Tt(!1,!1)},e={get(t){return Et(this,t,!1,!0)},get size(){return Dt(this)},has:Mt,add:St,set:Ft,delete:Lt,clear:Pt,forEach:Tt(!1,!0)},i={get(t){return Et(this,t,!0)},get size(){return Dt(this,!0)},has(t){return Mt.call(this,t,!0)},add:Wt("add"),set:Wt("set"),delete:Wt("delete"),clear:Wt("clear"),forEach:Tt(!0,!1)},n={get(t){return Et(this,t,!0,!0)},get size(){return Dt(this,!0)},has(t){return Mt.call(this,t,!0)},add:Wt("add"),set:Wt("set"),delete:Wt("delete"),clear:Wt("clear"),forEach:Tt(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach((o=>{t[o]=Vt(o,!1,!1),i[o]=Vt(o,!0,!1),e[o]=Vt(o,!1,!0),n[o]=Vt(o,!0,!0)})),[t,i,e,n]}const[At,Rt,Nt,It]=Ht();function Bt(t,e){const i=e?t?It:Nt:t?Rt:At;return(e,n,o)=>"__v_isReactive"===n?!t:"__v_isReadonly"===n?t:"__v_raw"===n?e:Reflect.get(C(i,n)&&n in e?i:e,n,o)}const jt={get:Bt(!1,!1)},$t={get:Bt(!1,!0)},Ut={get:Bt(!0,!1)},zt=new WeakMap,Xt=new WeakMap,Yt=new WeakMap,Gt=new WeakMap;function qt(t){return t.__v_skip||!Object.isExtensible(t)?0:function(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}((t=>V(t).slice(8,-1))(t))}function Kt(t){return t&&t.__v_isReadonly?t:Qt(t,!1,bt,jt,zt)}function Jt(t){return Qt(t,!0,wt,Ut,Yt)}function Qt(t,e,i,n,o){if(!L(t))return t;if(t.__v_raw&&(!e||!t.__v_isReactive))return t;const a=o.get(t);if(a)return a;const r=qt(t);if(0===r)return t;const s=new Proxy(t,2===r?n:i);return o.set(t,s),s}function Zt(t){return te(t)?Zt(t.__v_raw):!(!t||!t.__v_isReactive)}function te(t){return!(!t||!t.__v_isReadonly)}function ee(t){return Zt(t)||te(t)}function ie(t){return t&&ie(t.__v_raw)||t}function ne(t){return Y(t,"__v_skip",!0),t}const oe=t=>L(t)?Kt(t):t;function ae(t){return Boolean(t&&!0===t.__v_isRef)}function re(t){return function(t,e=!1){if(ae(t))return t;return new se(t,e)}(t)}class se{constructor(t,e=!1){this._shallow=e,this.__v_isRef=!0,this._rawValue=e?t:ie(t),this._value=e?t:oe(t)}get value(){return lt(ie(this),0,"value"),this._value}set value(t){t=this._shallow?t:ie(t),z(t,this._rawValue)&&(this._rawValue=t,this._value=this._shallow?t:oe(t),ct(ie(this),"set","value",t))}}const le={get:(t,e,i)=>{return ae(n=Reflect.get(t,e,i))?n.value:n;var n},set:(t,e,i,n)=>{const o=t[e];return ae(o)&&!ae(i)?(o.value=i,!0):Reflect.set(t,e,i,n)}};function ce(t){return Zt(t)?t:new Proxy(t,le)}class de{constructor(t,e,i){this._setter=e,this._dirty=!0,this.__v_isRef=!0,this.effect=tt(t,{lazy:!0,scheduler:()=>{this._dirty||(this._dirty=!0,ct(ie(this),"set","value"))}}),this.__v_isReadonly=i}get value(){const t=ie(this);return t._dirty&&(t._value=this.effect(),t._dirty=!1),lt(t,0,"value"),t._value}set value(t){this._setter(t)}}function he(t,e,i,n){let o;try{o=n?t(...n):t()}catch(a){pe(a,e,i)}return o}function ue(t,e,i,n){if(D(t)){const o=he(t,e,i,n);return o&&P(o)&&o.catch((t=>{pe(t,e,i)})),o}const o=[];for(let a=0;a<t.length;a++)o.push(ue(t[a],e,i,n));return o}function pe(t,e,i,n=!0){e&&e.vnode;if(e){let n=e.parent;const o=e.proxy,a=i;for(;n;){const e=n.ec;if(e)for(let i=0;i<e.length;i++)if(!1===e[i](t,o,a))return;n=n.parent}const r=e.appContext.config.errorHandler;if(r)return void he(r,null,10,[t,o,a])}!function(t,e,i,n=!0){console.error(t)}(t,0,0,n)}let fe=!1,me=!1;const ge=[];let ve=0;const ye=[];let be=null,we=0;const _e=[];let xe=null,Ce=0;const ke=Promise.resolve();let Oe=null,Ee=null;function Me(t){const e=Oe||ke;return t?e.then(this?t.bind(this):t):e}function De(t){if(!(ge.length&&ge.includes(t,fe&&t.allowRecurse?ve+1:ve)||t===Ee)){const e=function(t){let e=ve+1,i=ge.length;const n=Te(t);for(;e<i;){const t=e+i>>>1;Te(ge[t])<n?e=t+1:i=t}return e}(t);e>-1?ge.splice(e,0,t):ge.push(t),Se()}}function Se(){fe||me||(me=!0,Oe=ke.then(Ve))}function Fe(t,e,i,n){k(t)?i.push(...t):e&&e.includes(t,t.allowRecurse?n+1:n)||i.push(t),Se()}function Le(t,e=null){if(ye.length){for(Ee=e,be=[...new Set(ye)],ye.length=0,we=0;we<be.length;we++)be[we]();be=null,we=0,Ee=null,Le(t,e)}}function Pe(t){if(_e.length){const t=[...new Set(_e)];if(_e.length=0,xe)return void xe.push(...t);for(xe=t,xe.sort(((t,e)=>Te(t)-Te(e))),Ce=0;Ce<xe.length;Ce++)xe[Ce]();xe=null,Ce=0}}const Te=t=>null==t.id?1/0:t.id;function Ve(t){me=!1,fe=!0,Le(t),ge.sort(((t,e)=>Te(t)-Te(e)));try{for(ve=0;ve<ge.length;ve++){const t=ge[ve];t&&!1!==t.active&&he(t,null,14)}}finally{ve=0,ge.length=0,Pe(),fe=!1,Oe=null,(ge.length||ye.length||_e.length)&&Ve(t)}}function We(t,e,...i){const n=t.vnode.props||p;let o=i;const a=e.startsWith("update:"),r=a&&e.slice(7);if(r&&r in n){const t=`${"modelValue"===r?"model":r}Modifiers`,{number:e,trim:a}=n[t]||p;a?o=i.map((t=>t.trim())):e&&(o=i.map(G))}let s,l=n[s=U(e)]||n[s=U(I(e))];!l&&a&&(l=n[s=U(j(e))]),l&&ue(l,t,6,o);const c=n[s+"Once"];if(c){if(t.emitted){if(t.emitted[s])return}else t.emitted={};t.emitted[s]=!0,ue(c,t,6,o)}}function He(t,e,i=!1){const n=e.emitsCache,o=n.get(t);if(void 0!==o)return o;const a=t.emits;let r={},s=!1;if(!D(t)){const n=t=>{const i=He(t,e,!0);i&&(s=!0,w(r,i))};!i&&e.mixins.length&&e.mixins.forEach(n),t.extends&&n(t.extends),t.mixins&&t.mixins.forEach(n)}return a||s?(k(a)?a.forEach((t=>r[t]=null)):w(r,a),n.set(t,r),r):(n.set(t,null),null)}function Ae(t,e){return!(!t||!y(e))&&(e=e.slice(2).replace(/Once$/,""),C(t,e[0].toLowerCase()+e.slice(1))||C(t,j(e))||C(t,e))}let Re=null,Ne=null;function Ie(t){const e=Re;return Re=t,Ne=t&&t.type.__scopeId||null,e}function Be(t){Ne=t}function je(){Ne=null}const $e=t=>Ue;function Ue(t,e=Re,i){if(!e)return t;if(t._n)return t;const n=(...i)=>{n._d&&mn(-1);const o=Ie(e),a=t(...i);return Ie(o),n._d&&mn(1),a};return n._n=!0,n._c=!0,n._d=!0,n}function ze(t){const{type:e,vnode:i,proxy:n,withProxy:o,props:a,propsOptions:[r],slots:s,attrs:l,emit:c,render:d,renderCache:h,data:u,setupState:p,ctx:f,inheritAttrs:m}=t;let g;const v=Ie(t);try{let t;if(4&i.shapeFlag){const e=o||n;g=En(d.call(e,e,h,a,p,u,f)),t=l}else{const i=e;0,g=En(i.length>1?i(a,{attrs:l,slots:s,emit:c}):i(a,null)),t=e.props?l:Xe(l)}let v=g;if(t&&!1!==m){const e=Object.keys(t),{shapeFlag:i}=v;e.length&&(1&i||6&i)&&(r&&e.some(b)&&(t=Ye(t,r)),v=Cn(v,t))}0,i.dirs&&(v.dirs=v.dirs?v.dirs.concat(i.dirs):i.dirs),i.transition&&(v.transition=i.transition),g=v}catch(y){hn.length=0,pe(y,t,1),g=xn(cn)}return Ie(v),g}const Xe=t=>{let e;for(const i in t)("class"===i||"style"===i||y(i))&&((e||(e={}))[i]=t[i]);return e},Ye=(t,e)=>{const i={};for(const n in t)b(n)&&n.slice(9)in e||(i[n]=t[n]);return i};function Ge(t,e,i){const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!0;for(let o=0;o<n.length;o++){const a=n[o];if(e[a]!==t[a]&&!Ae(i,a))return!0}return!1}function qe(t,e,i=!1){const n=Hn||Re;if(n){const o=null==n.parent?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides;if(o&&t in o)return o[t];if(arguments.length>1)return i&&D(e)?e.call(n.proxy):e}}const Ke={};function Je(t,e,i){return Qe(t,e,i)}function Qe(t,e,{immediate:i,deep:n,flush:o,onTrack:a,onTrigger:r}=p,s=Hn){let l,c,d=!1,h=!1;if(ae(t)?(l=()=>t.value,d=!!t._shallow):Zt(t)?(l=()=>t,n=!0):k(t)?(h=!0,d=t.some(Zt),l=()=>t.map((t=>ae(t)?t.value:Zt(t)?ei(t):D(t)?he(t,s,2):void 0))):l=D(t)?e?()=>he(t,s,2):()=>{if(!s||!s.isUnmounted)return c&&c(),ue(t,s,3,[u])}:m,e&&n){const t=l;l=()=>ei(t())}let u=t=>{c=y.options.onStop=()=>{he(t,s,4)}},f=h?[]:Ke;const g=()=>{if(y.active)if(e){const t=y();(n||d||(h?t.some(((t,e)=>z(t,f[e]))):z(t,f)))&&(c&&c(),ue(e,s,3,[t,f===Ke?void 0:f,u]),f=t)}else y()};let v;g.allowRecurse=!!e,v="sync"===o?g:"post"===o?()=>Ki(g,s&&s.suspense):()=>{!s||s.isMounted?function(t){Fe(t,be,ye,we)}(g):g()};const y=tt(l,{lazy:!0,onTrack:a,onTrigger:r,scheduler:v});return $n(y,s),e?i?g():f=y():"post"===o?Ki(y,s&&s.suspense):y(),()=>{et(y),s&&_(s.effects,y)}}function Ze(t,e,i){const n=this.proxy,o=S(t)?t.includes(".")?ti(n,t):()=>n[t]:t.bind(n,n);let a;return D(e)?a=e:(a=e.handler,i=e),Qe(o,a.bind(n),i,this)}function ti(t,e){const i=e.split(".");return()=>{let e=t;for(let t=0;t<i.length&&e;t++)e=e[i[t]];return e}}function ei(t,e=new Set){if(!L(t)||t.__v_skip)return t;if((e=e||new Set).has(t))return t;if(e.add(t),ae(t))ei(t.value,e);else if(k(t))for(let i=0;i<t.length;i++)ei(t[i],e);else if(E(t)||O(t))t.forEach((t=>{ei(t,e)}));else if(W(t))for(const i in t)ei(t[i],e);return t}const ii=t=>!!t.type.__asyncLoader,ni=t=>t.type.__isKeepAlive;function oi(t,e){ri(t,"a",e)}function ai(t,e){ri(t,"da",e)}function ri(t,e,i=Hn){const n=t.__wdc||(t.__wdc=()=>{let e=i;for(;e;){if(e.isDeactivated)return;e=e.parent}t()});if(li(e,n,i),i){let t=i.parent;for(;t&&t.parent;)ni(t.parent.vnode)&&si(n,e,i,t),t=t.parent}}function si(t,e,i,n){const o=li(e,t,n,!0);mi((()=>{_(n[e],o)}),i)}function li(t,e,i=Hn,n=!1){if(i){const o=i[t]||(i[t]=[]),a=e.__weh||(e.__weh=(...n)=>{if(i.isUnmounted)return;rt(),An(i);const o=ue(e,i,t,n);return An(null),st(),o});return n?o.unshift(a):o.push(a),a}}const ci=t=>(e,i=Hn)=>(!Nn||"sp"===t)&&li(t,e,i),di=ci("bm"),hi=ci("m"),ui=ci("bu"),pi=ci("u"),fi=ci("bum"),mi=ci("um"),gi=ci("sp"),vi=ci("rtg"),yi=ci("rtc");function bi(t,e=Hn){li("ec",t,e)}let wi=!0;function _i(t){const e=ki(t),i=t.proxy,n=t.ctx;wi=!1,e.beforeCreate&&xi(e.beforeCreate,t,"bc");const{data:o,computed:a,methods:r,watch:s,provide:l,inject:c,created:d,beforeMount:h,mounted:u,beforeUpdate:p,updated:f,activated:g,deactivated:v,beforeDestroy:y,beforeUnmount:b,destroyed:w,unmounted:_,render:x,renderTracked:C,renderTriggered:O,errorCaptured:E,serverPrefetch:M,expose:S,inheritAttrs:F,components:P,directives:T,filters:V}=e;if(c&&function(t,e,i=m){k(t)&&(t=Di(t));for(const n in t){const i=t[n];L(i)?e[n]="default"in i?qe(i.from||n,i.default,!0):qe(i.from||n):e[n]=qe(i)}}(c,n,null),r)for(const m in r){const t=r[m];D(t)&&(n[m]=t.bind(i))}if(o){const e=o.call(i,i);L(e)&&(t.data=Kt(e))}if(wi=!0,a)for(const k in a){const t=a[k],e=zn({get:D(t)?t.bind(i,i):D(t.get)?t.get.bind(i,i):m,set:!D(t)&&D(t.set)?t.set.bind(i):m});Object.defineProperty(n,k,{enumerable:!0,configurable:!0,get:()=>e.value,set:t=>e.value=t})}if(s)for(const m in s)Ci(s[m],n,i,m);if(l){const t=D(l)?l.call(i):l;Reflect.ownKeys(t).forEach((e=>{!function(t,e){if(Hn){let i=Hn.provides;const n=Hn.parent&&Hn.parent.provides;n===i&&(i=Hn.provides=Object.create(n)),i[t]=e}}(e,t[e])}))}function W(t,e){k(e)?e.forEach((e=>t(e.bind(i)))):e&&t(e.bind(i))}if(d&&xi(d,t,"c"),W(di,h),W(hi,u),W(ui,p),W(pi,f),W(oi,g),W(ai,v),W(bi,E),W(yi,C),W(vi,O),W(fi,b),W(mi,_),W(gi,M),k(S))if(S.length){const e=t.exposed||(t.exposed={});S.forEach((t=>{Object.defineProperty(e,t,{get:()=>i[t],set:e=>i[t]=e})}))}else t.exposed||(t.exposed={});x&&t.render===m&&(t.render=x),null!=F&&(t.inheritAttrs=F),P&&(t.components=P),T&&(t.directives=T)}function xi(t,e,i){ue(k(t)?t.map((t=>t.bind(e.proxy))):t.bind(e.proxy),e,i)}function Ci(t,e,i,n){const o=n.includes(".")?ti(i,n):()=>i[n];if(S(t)){const i=e[t];D(i)&&Je(o,i)}else if(D(t))Je(o,t.bind(i));else if(L(t))if(k(t))t.forEach((t=>Ci(t,e,i,n)));else{const n=D(t.handler)?t.handler.bind(i):e[t.handler];D(n)&&Je(o,n,t)}}function ki(t){const e=t.type,{mixins:i,extends:n}=e,{mixins:o,optionsCache:a,config:{optionMergeStrategies:r}}=t.appContext,s=a.get(e);let l;return s?l=s:o.length||i||n?(l={},o.length&&o.forEach((t=>Oi(l,t,r,!0))),Oi(l,e,r)):l=e,a.set(e,l),l}function Oi(t,e,i,n=!1){const{mixins:o,extends:a}=e;a&&Oi(t,a,i,!0),o&&o.forEach((e=>Oi(t,e,i,!0)));for(const r in e)if(n&&"expose"===r);else{const n=Ei[r]||i&&i[r];t[r]=n?n(t[r],e[r]):e[r]}return t}const Ei={data:Mi,props:Fi,emits:Fi,methods:Fi,computed:Fi,beforeCreate:Si,created:Si,beforeMount:Si,mounted:Si,beforeUpdate:Si,updated:Si,beforeDestroy:Si,destroyed:Si,activated:Si,deactivated:Si,errorCaptured:Si,serverPrefetch:Si,components:Fi,directives:Fi,watch:function(t,e){if(!t)return e;if(!e)return t;const i=w(Object.create(null),t);for(const n in e)i[n]=Si(t[n],e[n]);return i},provide:Mi,inject:function(t,e){return Fi(Di(t),Di(e))}};function Mi(t,e){return e?t?function(){return w(D(t)?t.call(this,this):t,D(e)?e.call(this,this):e)}:e:t}function Di(t){if(k(t)){const e={};for(let i=0;i<t.length;i++)e[t[i]]=t[i];return e}return t}function Si(t,e){return t?[...new Set([].concat(t,e))]:e}function Fi(t,e){return t?w(w(Object.create(null),t),e):e}function Li(t,e,i,n=!1){const o={},a={};Y(a,bn,1),t.propsDefaults=Object.create(null),Pi(t,e,o,a);for(const r in t.propsOptions[0])r in o||(o[r]=void 0);i?t.props=n?o:Qt(o,!1,_t,$t,Xt):t.type.props?t.props=o:t.props=a,t.attrs=a}function Pi(t,e,i,n){const[o,a]=t.propsOptions;let r,s=!1;if(e)for(let l in e){if(A(l))continue;const c=e[l];let d;o&&C(o,d=I(l))?a&&a.includes(d)?(r||(r={}))[d]=c:i[d]=c:Ae(t.emitsOptions,l)||c!==n[l]&&(n[l]=c,s=!0)}if(a){const e=ie(i),n=r||p;for(let r=0;r<a.length;r++){const s=a[r];i[s]=Ti(o,e,s,n[s],t,!C(n,s))}}return s}function Ti(t,e,i,n,o,a){const r=t[i];if(null!=r){const t=C(r,"default");if(t&&void 0===n){const t=r.default;if(r.type!==Function&&D(t)){const{propsDefaults:a}=o;i in a?n=a[i]:(An(o),n=a[i]=t.call(null,e),An(null))}else n=t}r[0]&&(a&&!t?n=!1:!r[1]||""!==n&&n!==j(i)||(n=!0))}return n}function Vi(t,e,i=!1){const n=e.propsCache,o=n.get(t);if(o)return o;const a=t.props,r={},s=[];let l=!1;if(!D(t)){const n=t=>{l=!0;const[i,n]=Vi(t,e,!0);w(r,i),n&&s.push(...n)};!i&&e.mixins.length&&e.mixins.forEach(n),t.extends&&n(t.extends),t.mixins&&t.mixins.forEach(n)}if(!a&&!l)return n.set(t,f),f;if(k(a))for(let d=0;d<a.length;d++){const t=I(a[d]);Wi(t)&&(r[t]=p)}else if(a)for(const d in a){const t=I(d);if(Wi(t)){const e=a[d],i=r[t]=k(e)||D(e)?{type:e}:e;if(i){const e=Ri(Boolean,i.type),n=Ri(String,i.type);i[0]=e>-1,i[1]=n<0||e<n,(e>-1||C(i,"default"))&&s.push(t)}}}const c=[r,s];return n.set(t,c),c}function Wi(t){return"$"!==t[0]}function Hi(t){const e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:""}function Ai(t,e){return Hi(t)===Hi(e)}function Ri(t,e){return k(e)?e.findIndex((e=>Ai(e,t))):D(e)&&Ai(e,t)?0:-1}const Ni=t=>"_"===t[0]||"$stable"===t,Ii=t=>k(t)?t.map(En):[En(t)],Bi=(t,e,i)=>{const n=Ue((t=>Ii(e(t))),i);return n._c=!1,n},ji=(t,e,i)=>{const n=t._ctx;for(const o in t){if(Ni(o))continue;const i=t[o];if(D(i))e[o]=Bi(0,i,n);else if(null!=i){const t=Ii(i);e[o]=()=>t}}},$i=(t,e)=>{const i=Ii(e);t.slots.default=()=>i};function Ui(t,e){if(null===Re)return t;const i=Re.proxy,n=t.dirs||(t.dirs=[]);for(let o=0;o<e.length;o++){let[t,a,r,s=p]=e[o];D(t)&&(t={mounted:t,updated:t}),t.deep&&ei(a),n.push({dir:t,instance:i,value:a,oldValue:void 0,arg:r,modifiers:s})}return t}function zi(t,e,i,n){const o=t.dirs,a=e&&e.dirs;for(let r=0;r<o.length;r++){const s=o[r];a&&(s.oldValue=a[r].value);let l=s.dir[n];l&&(rt(),ue(l,i,8,[t.el,s,t,e]),st())}}function Xi(){return{app:null,config:{isNativeTag:g,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Yi=0;function Gi(t,e){return function(i,n=null){null==n||L(n)||(n=null);const o=Xi(),a=new Set;let r=!1;const s=o.app={_uid:Yi++,_component:i,_props:n,_container:null,_context:o,_instance:null,version:Xn,get config(){return o.config},set config(t){},use:(t,...e)=>(a.has(t)||(t&&D(t.install)?(a.add(t),t.install(s,...e)):D(t)&&(a.add(t),t(s,...e))),s),mixin:t=>(o.mixins.includes(t)||o.mixins.push(t),s),component:(t,e)=>e?(o.components[t]=e,s):o.components[t],directive:(t,e)=>e?(o.directives[t]=e,s):o.directives[t],mount(a,l,c){if(!r){const d=xn(i,n);return d.appContext=o,l&&e?e(d,a):t(d,a,c),r=!0,s._container=a,a.__vue_app__=s,d.component.proxy}},unmount(){r&&(t(null,s._container),delete s._container.__vue_app__)},provide:(t,e)=>(o.provides[t]=e,s)};return s}}const qi={scheduler:De,allowRecurse:!0},Ki=function(t,e){e&&e.pendingBranch?k(t)?e.effects.push(...t):e.effects.push(t):Fe(t,xe,_e,Ce)},Ji=(t,e,i,n,o=!1)=>{if(k(t))return void t.forEach(((t,a)=>Ji(t,e&&(k(e)?e[a]:e),i,n,o)));if(ii(n)&&!o)return;const a=4&n.shapeFlag?jn(n.component)||n.component.proxy:n.el,r=o?null:a,{i:s,r:l}=t,c=e&&e.r,d=s.refs===p?s.refs={}:s.refs,h=s.setupState;if(null!=c&&c!==l&&(S(c)?(d[c]=null,C(h,c)&&(h[c]=null)):ae(c)&&(c.value=null)),S(l)){const t=()=>{d[l]=r,C(h,l)&&(h[l]=r)};r?(t.id=-1,Ki(t,i)):t()}else if(ae(l)){const t=()=>{l.value=r};r?(t.id=-1,Ki(t,i)):t()}else D(l)&&he(l,s,12,[r,d])};function Qi(t){return function(t,e){const{insert:i,remove:n,patchProp:o,forcePatchProp:a,createElement:r,createText:s,createComment:l,setText:c,setElementText:d,parentNode:h,nextSibling:u,setScopeId:g=m,cloneNode:v,insertStaticContent:y}=t,b=(t,e,i,n=null,o=null,a=null,r=!1,s=null,l=!!e.dynamicChildren)=>{t&&!yn(t,e)&&(n=nt(t),K(t,o,a,!0),t=null),-2===e.patchFlag&&(l=!1,e.dynamicChildren=null);const{type:c,ref:d,shapeFlag:h}=e;switch(c){case ln:_(t,e,i,n);break;case cn:x(t,e,i,n);break;case dn:null==t&&k(e,i,n,r);break;case sn:W(t,e,i,n,o,a,r,s,l);break;default:1&h?M(t,e,i,n,o,a,r,s,l):6&h?H(t,e,i,n,o,a,r,s,l):(64&h||128&h)&&c.process(t,e,i,n,o,a,r,s,l,at)}null!=d&&o&&Ji(d,t&&t.ref,a,e||t,!e)},_=(t,e,n,o)=>{if(null==t)i(e.el=s(e.children),n,o);else{const i=e.el=t.el;e.children!==t.children&&c(i,e.children)}},x=(t,e,n,o)=>{null==t?i(e.el=l(e.children||""),n,o):e.el=t.el},k=(t,e,i,n)=>{[t.el,t.anchor]=y(t.children,e,i,n)},O=({el:t,anchor:e},n,o)=>{let a;for(;t&&t!==e;)a=u(t),i(t,n,o),t=a;i(e,n,o)},E=({el:t,anchor:e})=>{let i;for(;t&&t!==e;)i=u(t),n(t),t=i;n(e)},M=(t,e,i,n,o,a,r,s,l)=>{r=r||"svg"===e.type,null==t?D(e,i,n,o,a,r,s,l):L(t,e,o,a,r,s,l)},D=(t,e,n,a,s,l,c,h)=>{let u,p;const{type:f,props:m,shapeFlag:g,transition:y,patchFlag:b,dirs:w}=t;if(t.el&&void 0!==v&&-1===b)u=t.el=v(t.el);else{if(u=t.el=r(t.type,l,m&&m.is,m),8&g?d(u,t.children):16&g&&F(t.children,u,null,a,s,l&&"foreignObject"!==f,c,h),w&&zi(t,null,a,"created"),m){for(const e in m)A(e)||o(u,e,null,m[e],l,t.children,a,s,it);(p=m.onVnodeBeforeMount)&&Zi(p,a,t)}S(u,t,t.scopeId,c,a)}w&&zi(t,null,a,"beforeMount");const _=(!s||s&&!s.pendingBranch)&&y&&!y.persisted;_&&y.beforeEnter(u),i(u,e,n),((p=m&&m.onVnodeMounted)||_||w)&&Ki((()=>{p&&Zi(p,a,t),_&&y.enter(u),w&&zi(t,null,a,"mounted")}),s)},S=(t,e,i,n,o)=>{if(i&&g(t,i),n)for(let a=0;a<n.length;a++)g(t,n[a]);if(o){if(e===o.subTree){const e=o.vnode;S(t,e,e.scopeId,e.slotScopeIds,o.parent)}}},F=(t,e,i,n,o,a,r,s,l=0)=>{for(let c=l;c<t.length;c++){const l=t[c]=s?Mn(t[c]):En(t[c]);b(null,l,e,i,n,o,a,r,s)}},L=(t,e,i,n,r,s,l)=>{const c=e.el=t.el;let{patchFlag:h,dynamicChildren:u,dirs:f}=e;h|=16&t.patchFlag;const m=t.props||p,g=e.props||p;let v;if((v=g.onVnodeBeforeUpdate)&&Zi(v,i,e,t),f&&zi(e,t,i,"beforeUpdate"),h>0){if(16&h)V(c,e,m,g,i,n,r);else if(2&h&&m.class!==g.class&&o(c,"class",null,g.class,r),4&h&&o(c,"style",m.style,g.style,r),8&h){const s=e.dynamicProps;for(let e=0;e<s.length;e++){const l=s[e],d=m[l],h=g[l];(h!==d||a&&a(c,l))&&o(c,l,d,h,r,t.children,i,n,it)}}1&h&&t.children!==e.children&&d(c,e.children)}else l||null!=u||V(c,e,m,g,i,n,r);const y=r&&"foreignObject"!==e.type;u?T(t.dynamicChildren,u,c,i,n,y,s):l||U(t,e,c,null,i,n,y,s,!1),((v=g.onVnodeUpdated)||f)&&Ki((()=>{v&&Zi(v,i,e,t),f&&zi(e,t,i,"updated")}),n)},T=(t,e,i,n,o,a,r)=>{for(let s=0;s<e.length;s++){const l=t[s],c=e[s],d=l.el&&(l.type===sn||!yn(l,c)||6&l.shapeFlag||64&l.shapeFlag)?h(l.el):i;b(l,c,d,null,n,o,a,r,!0)}},V=(t,e,i,n,r,s,l)=>{if(i!==n){for(const c in n){if(A(c))continue;const d=n[c],h=i[c];(d!==h||a&&a(t,c))&&o(t,c,h,d,l,e.children,r,s,it)}if(i!==p)for(const a in i)A(a)||a in n||o(t,a,i[a],null,l,e.children,r,s,it)}},W=(t,e,n,o,a,r,l,c,d)=>{const h=e.el=t?t.el:s(""),u=e.anchor=t?t.anchor:s("");let{patchFlag:p,dynamicChildren:f,slotScopeIds:m}=e;f&&(d=!0),m&&(c=c?c.concat(m):m),null==t?(i(h,n,o),i(u,n,o),F(e.children,n,u,a,r,l,c,d)):p>0&&64&p&&f&&t.dynamicChildren?(T(t.dynamicChildren,f,n,a,r,l,c),(null!=e.key||a&&e===a.subTree)&&tn(t,e,!0)):U(t,e,n,u,a,r,l,c,d)},H=(t,e,i,n,o,a,r,s,l)=>{e.slotScopeIds=s,null==t?512&e.shapeFlag?o.ctx.activate(e,i,n,r,l):R(e,i,n,o,a,r,l):N(t,e,l)},R=(t,e,i,n,o,a,r)=>{const s=t.component=function(t,e,i){const n=t.type,o=(e?e.appContext:t.appContext)||Vn,a={uid:Wn++,vnode:t,type:n,parent:e,appContext:o,root:null,next:null,subTree:null,update:null,render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,effects:null,provides:e?e.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Vi(n,o),emitsOptions:He(n,o),emit:null,emitted:null,propsDefaults:p,inheritAttrs:n.inheritAttrs,ctx:p,data:p,props:p,attrs:p,slots:p,refs:p,setupState:p,setupContext:null,suspense:i,suspenseId:i?i.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=e?e.root:a,a.emit=We.bind(null,a),a}(t,n,o);if(ni(t)&&(s.ctx.renderer=at),function(t,e=!1){Nn=e;const{props:i,children:n}=t.vnode,o=Rn(t);Li(t,i,o,e),((t,e)=>{if(32&t.vnode.shapeFlag){const i=e._;i?(t.slots=ie(e),Y(e,"_",i)):ji(e,t.slots={})}else t.slots={},e&&$i(t,e);Y(t.slots,bn,1)})(t,n);const a=o?function(t,e){const i=t.type;t.accessCache=Object.create(null),t.proxy=ne(new Proxy(t.ctx,Pn));const{setup:n}=i;if(n){const i=t.setupContext=n.length>1?function(t){const e=e=>{t.exposed=e||{}};return{attrs:t.attrs,slots:t.slots,emit:t.emit,expose:e}}(t):null;Hn=t,rt();const o=he(n,t,0,[t.props,i]);if(st(),Hn=null,P(o)){const i=()=>{Hn=null};if(o.then(i,i),e)return o.then((e=>{In(t,e)})).catch((e=>{pe(e,t,0)}));t.asyncDep=o}else In(t,o)}else Bn(t)}(t,e):void 0;Nn=!1}(s),s.asyncDep){if(o&&o.registerDep(s,B),!t.el){const t=s.subTree=xn(cn);x(null,t,e,i)}}else B(s,t,e,i,o,a,r)},N=(t,e,i)=>{const n=e.component=t.component;if(function(t,e,i){const{props:n,children:o,component:a}=t,{props:r,children:s,patchFlag:l}=e,c=a.emitsOptions;if(e.dirs||e.transition)return!0;if(!(i&&l>=0))return!(!o&&!s||s&&s.$stable)||n!==r&&(n?!r||Ge(n,r,c):!!r);if(1024&l)return!0;if(16&l)return n?Ge(n,r,c):!!r;if(8&l){const t=e.dynamicProps;for(let e=0;e<t.length;e++){const i=t[e];if(r[i]!==n[i]&&!Ae(c,i))return!0}}return!1}(t,e,i)){if(n.asyncDep&&!n.asyncResolved)return void $(n,e,i);n.next=e,function(t){const e=ge.indexOf(t);e>ve&&ge.splice(e,1)}(n.update),n.update()}else e.component=t.component,e.el=t.el,n.vnode=e},B=(t,e,i,n,o,a,r)=>{t.update=tt((function(){if(t.isMounted){let e,{next:i,bu:n,u:s,parent:l,vnode:c}=t,d=i;i?(i.el=c.el,$(t,i,r)):i=c,n&&X(n),(e=i.props&&i.props.onVnodeBeforeUpdate)&&Zi(e,l,i,c);const u=ze(t),p=t.subTree;t.subTree=u,b(p,u,h(p.el),nt(p),t,o,a),i.el=u.el,null===d&&function({vnode:t,parent:e},i){for(;e&&e.subTree===t;)(t=e.vnode).el=i,e=e.parent}(t,u.el),s&&Ki(s,o),(e=i.props&&i.props.onVnodeUpdated)&&Ki((()=>Zi(e,l,i,c)),o)}else{let r;const{el:s,props:l}=e,{bm:c,m:d,parent:h}=t;if(c&&X(c),(r=l&&l.onVnodeBeforeMount)&&Zi(r,h,e),s&&dt){const i=()=>{t.subTree=ze(t),dt(s,t.subTree,t,o,null)};ii(e)?e.type.__asyncLoader().then((()=>!t.isUnmounted&&i())):i()}else{const r=t.subTree=ze(t);b(null,r,i,n,t,o,a),e.el=r.el}if(d&&Ki(d,o),r=l&&l.onVnodeMounted){const t=e;Ki((()=>Zi(r,h,t)),o)}256&e.shapeFlag&&t.a&&Ki(t.a,o),t.isMounted=!0,e=i=n=null}}),qi)},$=(t,e,i)=>{e.component=t;const n=t.vnode.props;t.vnode=e,t.next=null,function(t,e,i,n){const{props:o,attrs:a,vnode:{patchFlag:r}}=t,s=ie(o),[l]=t.propsOptions;let c=!1;if(!(n||r>0)||16&r){let n;Pi(t,e,o,a)&&(c=!0);for(const a in s)e&&(C(e,a)||(n=j(a))!==a&&C(e,n))||(l?!i||void 0===i[a]&&void 0===i[n]||(o[a]=Ti(l,s,a,void 0,t,!0)):delete o[a]);if(a!==s)for(const t in a)e&&C(e,t)||(delete a[t],c=!0)}else if(8&r){const i=t.vnode.dynamicProps;for(let n=0;n<i.length;n++){let r=i[n];const d=e[r];if(l)if(C(a,r))d!==a[r]&&(a[r]=d,c=!0);else{const e=I(r);o[e]=Ti(l,s,e,d,t,!1)}else d!==a[r]&&(a[r]=d,c=!0)}}c&&ct(t,"set","$attrs")}(t,e.props,n,i),((t,e,i)=>{const{vnode:n,slots:o}=t;let a=!0,r=p;if(32&n.shapeFlag){const t=e._;t?i&&1===t?a=!1:(w(o,e),i||1!==t||delete o._):(a=!e.$stable,ji(e,o)),r=e}else e&&($i(t,e),r={default:1});if(a)for(const s in o)Ni(s)||s in r||delete o[s]})(t,e.children,i),rt(),Le(void 0,t.update),st()},U=(t,e,i,n,o,a,r,s,l=!1)=>{const c=t&&t.children,h=t?t.shapeFlag:0,u=e.children,{patchFlag:p,shapeFlag:f}=e;if(p>0){if(128&p)return void G(c,u,i,n,o,a,r,s,l);if(256&p)return void z(c,u,i,n,o,a,r,s,l)}8&f?(16&h&&it(c,o,a),u!==c&&d(i,u)):16&h?16&f?G(c,u,i,n,o,a,r,s,l):it(c,o,a,!0):(8&h&&d(i,""),16&f&&F(u,i,n,o,a,r,s,l))},z=(t,e,i,n,o,a,r,s,l)=>{e=e||f;const c=(t=t||f).length,d=e.length,h=Math.min(c,d);let u;for(u=0;u<h;u++){const n=e[u]=l?Mn(e[u]):En(e[u]);b(t[u],n,i,null,o,a,r,s,l)}c>d?it(t,o,a,!0,!1,h):F(e,i,n,o,a,r,s,l,h)},G=(t,e,i,n,o,a,r,s,l)=>{let c=0;const d=e.length;let h=t.length-1,u=d-1;for(;c<=h&&c<=u;){const n=t[c],d=e[c]=l?Mn(e[c]):En(e[c]);if(!yn(n,d))break;b(n,d,i,null,o,a,r,s,l),c++}for(;c<=h&&c<=u;){const n=t[h],c=e[u]=l?Mn(e[u]):En(e[u]);if(!yn(n,c))break;b(n,c,i,null,o,a,r,s,l),h--,u--}if(c>h){if(c<=u){const t=u+1,h=t<d?e[t].el:n;for(;c<=u;)b(null,e[c]=l?Mn(e[c]):En(e[c]),i,h,o,a,r,s,l),c++}}else if(c>u)for(;c<=h;)K(t[c],o,a,!0),c++;else{const p=c,m=c,g=new Map;for(c=m;c<=u;c++){const t=e[c]=l?Mn(e[c]):En(e[c]);null!=t.key&&g.set(t.key,c)}let v,y=0;const w=u-m+1;let _=!1,x=0;const C=new Array(w);for(c=0;c<w;c++)C[c]=0;for(c=p;c<=h;c++){const n=t[c];if(y>=w){K(n,o,a,!0);continue}let d;if(null!=n.key)d=g.get(n.key);else for(v=m;v<=u;v++)if(0===C[v-m]&&yn(n,e[v])){d=v;break}void 0===d?K(n,o,a,!0):(C[d-m]=c+1,d>=x?x=d:_=!0,b(n,e[d],i,null,o,a,r,s,l),y++)}const k=_?function(t){const e=t.slice(),i=[0];let n,o,a,r,s;const l=t.length;for(n=0;n<l;n++){const l=t[n];if(0!==l){if(o=i[i.length-1],t[o]<l){e[n]=o,i.push(n);continue}for(a=0,r=i.length-1;a<r;)s=(a+r)/2|0,t[i[s]]<l?a=s+1:r=s;l<t[i[a]]&&(a>0&&(e[n]=i[a-1]),i[a]=n)}}a=i.length,r=i[a-1];for(;a-- >0;)i[a]=r,r=e[r];return i}(C):f;for(v=k.length-1,c=w-1;c>=0;c--){const t=m+c,h=e[t],u=t+1<d?e[t+1].el:n;0===C[c]?b(null,h,i,u,o,a,r,s,l):_&&(v<0||c!==k[v]?q(h,i,u,2):v--)}}},q=(t,e,n,o,a=null)=>{const{el:r,type:s,transition:l,children:c,shapeFlag:d}=t;if(6&d)return void q(t.component.subTree,e,n,o);if(128&d)return void t.suspense.move(e,n,o);if(64&d)return void s.move(t,e,n,at);if(s===sn){i(r,e,n);for(let t=0;t<c.length;t++)q(c[t],e,n,o);return void i(t.anchor,e,n)}if(s===dn)return void O(t,e,n);if(2!==o&&1&d&&l)if(0===o)l.beforeEnter(r),i(r,e,n),Ki((()=>l.enter(r)),a);else{const{leave:t,delayLeave:o,afterLeave:a}=l,s=()=>i(r,e,n),c=()=>{t(r,(()=>{s(),a&&a()}))};o?o(r,s,c):c()}else i(r,e,n)},K=(t,e,i,n=!1,o=!1)=>{const{type:a,props:r,ref:s,children:l,dynamicChildren:c,shapeFlag:d,patchFlag:h,dirs:u}=t;if(null!=s&&Ji(s,null,i,t,!0),256&d)return void e.ctx.deactivate(t);const p=1&d&&u;let f;if((f=r&&r.onVnodeBeforeUnmount)&&Zi(f,e,t),6&d)Z(t.component,i,n);else{if(128&d)return void t.suspense.unmount(i,n);p&&zi(t,null,e,"beforeUnmount"),64&d?t.type.remove(t,e,i,o,at,n):c&&(a!==sn||h>0&&64&h)?it(c,e,i,!1,!0):(a===sn&&(128&h||256&h)||!o&&16&d)&&it(l,e,i),n&&J(t)}((f=r&&r.onVnodeUnmounted)||p)&&Ki((()=>{f&&Zi(f,e,t),p&&zi(t,null,e,"unmounted")}),i)},J=t=>{const{type:e,el:i,anchor:o,transition:a}=t;if(e===sn)return void Q(i,o);if(e===dn)return void E(t);const r=()=>{n(i),a&&!a.persisted&&a.afterLeave&&a.afterLeave()};if(1&t.shapeFlag&&a&&!a.persisted){const{leave:e,delayLeave:n}=a,o=()=>e(i,r);n?n(t.el,r,o):o()}else r()},Q=(t,e)=>{let i;for(;t!==e;)i=u(t),n(t),t=i;n(e)},Z=(t,e,i)=>{const{bum:n,effects:o,update:a,subTree:r,um:s}=t;if(n&&X(n),o)for(let l=0;l<o.length;l++)et(o[l]);a&&(et(a),K(r,t,e,i)),s&&Ki(s,e),Ki((()=>{t.isUnmounted=!0}),e),e&&e.pendingBranch&&!e.isUnmounted&&t.asyncDep&&!t.asyncResolved&&t.suspenseId===e.pendingId&&(e.deps--,0===e.deps&&e.resolve())},it=(t,e,i,n=!1,o=!1,a=0)=>{for(let r=a;r<t.length;r++)K(t[r],e,i,n,o)},nt=t=>6&t.shapeFlag?nt(t.component.subTree):128&t.shapeFlag?t.suspense.next():u(t.anchor||t.el),ot=(t,e,i)=>{null==t?e._vnode&&K(e._vnode,null,null,!0):b(e._vnode||null,t,e,null,null,null,i),Pe(),e._vnode=t},at={p:b,um:K,m:q,r:J,mt:R,mc:F,pc:U,pbc:T,n:nt,o:t};let lt,dt;e&&([lt,dt]=e(at));return{render:ot,hydrate:lt,createApp:Gi(ot,lt)}}(t)}function Zi(t,e,i,n=null){ue(t,e,7,[i,n])}function tn(t,e,i=!1){const n=t.children,o=e.children;if(k(n)&&k(o))for(let a=0;a<n.length;a++){const t=n[a];let e=o[a];1&e.shapeFlag&&!e.dynamicChildren&&((e.patchFlag<=0||32===e.patchFlag)&&(e=o[a]=Mn(o[a]),e.el=t.el),i||tn(t,e))}}const en="components";function nn(t,e){return an(en,t,!0,e)||t}const on=Symbol();function an(t,e,i=!0,n=!1){const o=Re||Hn;if(o){const i=o.type;if(t===en){const t=Un(i);if(t&&(t===e||t===I(e)||t===$(I(e))))return i}const a=rn(o[t]||i[t],e)||rn(o.appContext[t],e);return!a&&n?i:a}}function rn(t,e){return t&&(t[e]||t[I(e)]||t[$(I(e))])}const sn=Symbol(void 0),ln=Symbol(void 0),cn=Symbol(void 0),dn=Symbol(void 0),hn=[];let un=null;function pn(t=!1){hn.push(un=t?null:[])}let fn=1;function mn(t){fn+=t}function gn(t,e,i,n,o){const a=xn(t,e,i,n,o,!0);return a.dynamicChildren=fn>0?un||f:null,hn.pop(),un=hn[hn.length-1]||null,fn>0&&un&&un.push(a),a}function vn(t){return!!t&&!0===t.__v_isVNode}function yn(t,e){return t.type===e.type&&t.key===e.key}const bn="__vInternal",wn=({key:t})=>null!=t?t:null,_n=({ref:t})=>null!=t?S(t)||ae(t)||D(t)?{i:Re,r:t}:t:null,xn=function(t,e=null,i=null,n=0,a=null,r=!1){t&&t!==on||(t=cn);if(vn(t)){const n=Cn(t,e,!0);return i&&Dn(n,i),n}s=t,D(s)&&"__vccOpts"in s&&(t=t.__vccOpts);var s;if(e){(ee(e)||bn in e)&&(e=w({},e));let{class:t,style:i}=e;t&&!S(t)&&(e.class=l(t)),L(i)&&(ee(i)&&!k(i)&&(i=w({},i)),e.style=o(i))}const c=S(t)?1:(t=>t.__isSuspense)(t)?128:(t=>t.__isTeleport)(t)?64:L(t)?4:D(t)?2:0,d={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&wn(e),ref:e&&_n(e),scopeId:Ne,slotScopeIds:null,children:null,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,shapeFlag:c,patchFlag:n,dynamicProps:a,dynamicChildren:null,appContext:null};Dn(d,i),128&c&&t.normalize(d);fn>0&&!r&&un&&(n>0||6&c)&&32!==n&&un.push(d);return d};function Cn(t,e,i=!1){const{props:n,ref:a,patchFlag:r,children:s}=t,c=e?function(...t){const e=w({},t[0]);for(let i=1;i<t.length;i++){const n=t[i];for(const t in n)if("class"===t)e.class!==n.class&&(e.class=l([e.class,n.class]));else if("style"===t)e.style=o([e.style,n.style]);else if(y(t)){const i=e[t],o=n[t];i!==o&&(e[t]=i?[].concat(i,o):o)}else""!==t&&(e[t]=n[t])}return e}(n||{},e):n;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&wn(c),ref:e&&e.ref?i&&a?k(a)?a.concat(_n(e)):[a,_n(e)]:_n(e):a,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:s,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==sn?-1===r?16:16|r:r,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Cn(t.ssContent),ssFallback:t.ssFallback&&Cn(t.ssFallback),el:t.el,anchor:t.anchor}}function kn(t=" ",e=0){return xn(ln,null,t,e)}function On(t="",e=!1){return e?(pn(),gn(cn,null,t)):xn(cn,null,t)}function En(t){return null==t||"boolean"==typeof t?xn(cn):k(t)?xn(sn,null,t.slice()):"object"==typeof t?Mn(t):xn(ln,null,String(t))}function Mn(t){return null===t.el?t:Cn(t)}function Dn(t,e){let i=0;const{shapeFlag:n}=t;if(null==e)e=null;else if(k(e))i=16;else if("object"==typeof e){if(1&n||64&n){const i=e.default;return void(i&&(i._c&&(i._d=!1),Dn(t,i()),i._c&&(i._d=!0)))}{i=32;const n=e._;n||bn in e?3===n&&Re&&(1===Re.slots._?e._=1:(e._=2,t.patchFlag|=1024)):e._ctx=Re}}else D(e)?(e={default:e,_ctx:Re},i=32):(e=String(e),64&n?(i=16,e=[kn(e)]):i=8);t.children=e,t.shapeFlag|=i}function Sn(t,e){let i;if(k(t)||S(t)){i=new Array(t.length);for(let n=0,o=t.length;n<o;n++)i[n]=e(t[n],n)}else if("number"==typeof t){i=new Array(t);for(let n=0;n<t;n++)i[n]=e(n+1,n)}else if(L(t))if(t[Symbol.iterator])i=Array.from(t,e);else{const n=Object.keys(t);i=new Array(n.length);for(let o=0,a=n.length;o<a;o++){const a=n[o];i[o]=e(t[a],a,o)}}else i=[];return i}const Fn=t=>t?Rn(t)?jn(t)||t.proxy:Fn(t.parent):null,Ln=w(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Fn(t.parent),$root:t=>Fn(t.root),$emit:t=>t.emit,$options:t=>ki(t),$forceUpdate:t=>()=>De(t.update),$nextTick:t=>Me.bind(t.proxy),$watch:t=>Ze.bind(t)}),Pn={get({_:t},e){const{ctx:i,setupState:n,data:o,props:a,accessCache:r,type:s,appContext:l}=t;let c;if("$"!==e[0]){const s=r[e];if(void 0!==s)switch(s){case 0:return n[e];case 1:return o[e];case 3:return i[e];case 2:return a[e]}else{if(n!==p&&C(n,e))return r[e]=0,n[e];if(o!==p&&C(o,e))return r[e]=1,o[e];if((c=t.propsOptions[0])&&C(c,e))return r[e]=2,a[e];if(i!==p&&C(i,e))return r[e]=3,i[e];wi&&(r[e]=4)}}const d=Ln[e];let h,u;return d?("$attrs"===e&&lt(t,0,e),d(t)):(h=s.__cssModules)&&(h=h[e])?h:i!==p&&C(i,e)?(r[e]=3,i[e]):(u=l.config.globalProperties,C(u,e)?u[e]:void 0)},set({_:t},e,i){const{data:n,setupState:o,ctx:a}=t;if(o!==p&&C(o,e))o[e]=i;else if(n!==p&&C(n,e))n[e]=i;else if(C(t.props,e))return!1;return("$"!==e[0]||!(e.slice(1)in t))&&(a[e]=i,!0)},has({_:{data:t,setupState:e,accessCache:i,ctx:n,appContext:o,propsOptions:a}},r){let s;return void 0!==i[r]||t!==p&&C(t,r)||e!==p&&C(e,r)||(s=a[0])&&C(s,r)||C(n,r)||C(Ln,r)||C(o.config.globalProperties,r)}},Tn=w({},Pn,{get(t,e){if(e!==Symbol.unscopables)return Pn.get(t,e,t)},has:(t,e)=>"_"!==e[0]&&!i(e)}),Vn=Xi();let Wn=0;let Hn=null;const An=t=>{Hn=t};function Rn(t){return 4&t.vnode.shapeFlag}let Nn=!1;function In(t,e,i){D(e)?t.render=e:L(e)&&(t.setupState=ce(e)),Bn(t)}function Bn(t,e,i){const n=t.type;t.render||(t.render=n.render||m,t.render._rc&&(t.withProxy=new Proxy(t.ctx,Tn))),Hn=t,rt(),_i(t),st(),Hn=null}function jn(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(ce(ne(t.exposed)),{get:(e,i)=>i in e?e[i]:i in Ln?Ln[i](t):void 0}))}function $n(t,e=Hn){e&&(e.effects||(e.effects=[])).push(t)}function Un(t){return D(t)&&t.displayName||t.name}function zn(t){const e=function(t){let e,i;return D(t)?(e=t,i=m):(e=t.get,i=t.set),new de(e,i,D(t)||!t.set)}(t);return $n(e.effect),e}const Xn="3.1.5",Yn="undefined"!=typeof document?document:null,Gn=new Map,qn={insert:(t,e,i)=>{e.insertBefore(t,i||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,i,n)=>{const o=e?Yn.createElementNS("http://www.w3.org/2000/svg",t):Yn.createElement(t,i?{is:i}:void 0);return"select"===t&&n&&null!=n.multiple&&o.setAttribute("multiple",n.multiple),o},createText:t=>Yn.createTextNode(t),createComment:t=>Yn.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Yn.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},cloneNode(t){const e=t.cloneNode(!0);return"_value"in t&&(e._value=t._value),e},insertStaticContent(t,e,i,n){const o=i?i.previousSibling:e.lastChild;let a=Gn.get(t);if(!a){const e=Yn.createElement("template");if(e.innerHTML=n?`<svg>${t}</svg>`:t,a=e.content,n){const t=a.firstChild;for(;t.firstChild;)a.appendChild(t.firstChild);a.removeChild(t)}Gn.set(t,a)}return e.insertBefore(a.cloneNode(!0),i),[o?o.nextSibling:e.firstChild,i?i.previousSibling:e.lastChild]}};const Kn=/\s*!important$/;function Jn(t,e,i){if(k(i))i.forEach((i=>Jn(t,e,i)));else if(e.startsWith("--"))t.setProperty(e,i);else{const n=function(t,e){const i=Zn[e];if(i)return i;let n=I(e);if("filter"!==n&&n in t)return Zn[e]=n;n=$(n);for(let o=0;o<Qn.length;o++){const i=Qn[o]+n;if(i in t)return Zn[e]=i}return e}(t,e);Kn.test(i)?t.setProperty(j(n),i.replace(Kn,""),"important"):t[n]=i}}const Qn=["Webkit","Moz","ms"],Zn={};const to="http://www.w3.org/1999/xlink";let eo=Date.now,io=!1;if("undefined"!=typeof window){eo()>document.createEvent("Event").timeStamp&&(eo=()=>performance.now());const t=navigator.userAgent.match(/firefox\/(\d+)/i);io=!!(t&&Number(t[1])<=53)}let no=0;const oo=Promise.resolve(),ao=()=>{no=0};function ro(t,e,i,n){t.addEventListener(e,i,n)}function so(t,e,i,n,o=null){const a=t._vei||(t._vei={}),r=a[e];if(n&&r)r.value=n;else{const[i,s]=function(t){let e;if(lo.test(t)){let i;for(e={};i=t.match(lo);)t=t.slice(0,t.length-i[0].length),e[i[0].toLowerCase()]=!0}return[j(t.slice(2)),e]}(e);if(n){ro(t,i,a[e]=function(t,e){const i=t=>{const n=t.timeStamp||eo();(io||n>=i.attached-1)&&ue(function(t,e){if(k(e)){const i=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{i.call(t),t._stopped=!0},e.map((t=>e=>!e._stopped&&t(e)))}return e}(t,i.value),e,5,[t])};return i.value=t,i.attached=(()=>no||(oo.then(ao),no=eo()))(),i}(n,o),s)}else r&&(!function(t,e,i,n){t.removeEventListener(e,i,n)}(t,i,r,s),a[e]=void 0)}}const lo=/(?:Once|Passive|Capture)$/;const co=/^on[a-z]/;const ho=t=>{const e=t.props["onUpdate:modelValue"];return k(e)?t=>X(e,t):e};function uo(t){t.target.composing=!0}function po(t){const e=t.target;e.composing&&(e.composing=!1,function(t,e){const i=document.createEvent("HTMLEvents");i.initEvent(e,!0,!0),t.dispatchEvent(i)}(e,"input"))}const fo={created(t,{modifiers:{lazy:e,trim:i,number:n}},o){t._assign=ho(o);const a=n||"number"===t.type;ro(t,e?"change":"input",(e=>{if(e.target.composing)return;let n=t.value;i?n=n.trim():a&&(n=G(n)),t._assign(n)})),i&&ro(t,"change",(()=>{t.value=t.value.trim()})),e||(ro(t,"compositionstart",uo),ro(t,"compositionend",po),ro(t,"change",po))},mounted(t,{value:e}){t.value=null==e?"":e},beforeUpdate(t,{value:e,modifiers:{trim:i,number:n}},o){if(t._assign=ho(o),t.composing)return;if(document.activeElement===t){if(i&&t.value.trim()===e)return;if((n||"number"===t.type)&&G(t.value)===e)return}const a=null==e?"":e;t.value!==a&&(t.value=a)}},mo={deep:!0,created(t,e,i){t._assign=ho(i),ro(t,"change",(()=>{const e=t._modelValue,i=function(t){return"_value"in t?t._value:t.value}(t),n=t.checked,o=t._assign;if(k(e)){const t=d(e,i),a=-1!==t;if(n&&!a)o(e.concat(i));else if(!n&&a){const i=[...e];i.splice(t,1),o(i)}}else if(E(e)){const t=new Set(e);n?t.add(i):t.delete(i),o(t)}else o(vo(t,n))}))},mounted:go,beforeUpdate(t,e,i){t._assign=ho(i),go(t,e,i)}};function go(t,{value:e,oldValue:i},n){t._modelValue=e,k(e)?t.checked=d(e,n.props.value)>-1:E(e)?t.checked=e.has(n.props.value):e!==i&&(t.checked=c(e,vo(t,!0)))}function vo(t,e){const i=e?"_trueValue":"_falseValue";return i in t?t[i]:e}const yo=["ctrl","shift","alt","meta"],bo={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&0!==t.button,middle:t=>"button"in t&&1!==t.button,right:t=>"button"in t&&2!==t.button,exact:(t,e)=>yo.some((i=>t[`${i}Key`]&&!e.includes(i)))},wo=(t,e)=>(i,...n)=>{for(let t=0;t<e.length;t++){const n=bo[e[t]];if(n&&n(i,e))return}return t(i,...n)},_o=w({patchProp:(t,e,i,o,a=!1,r,s,l,c)=>{switch(e){case"class":!function(t,e,i){const n=t._vtc;n&&(e=(e?[e,...n]:[...n]).join(" ")),null==e?t.removeAttribute("class"):i?t.setAttribute("class",e):t.className=e}(t,o,a);break;case"style":!function(t,e,i){const n=t.style;if(i)if(S(i)){if(e!==i){const e=n.display;n.cssText=i,"_vod"in t&&(n.display=e)}}else{for(const t in i)Jn(n,t,i[t]);if(e&&!S(e))for(const t in e)null==i[t]&&Jn(n,t,"")}else t.removeAttribute("style")}(t,i,o);break;default:y(e)?b(e)||so(t,e,0,o,s):function(t,e,i,n){if(n)return"innerHTML"===e||!!(e in t&&co.test(e)&&D(i));if("spellcheck"===e||"draggable"===e)return!1;if("form"===e)return!1;if("list"===e&&"INPUT"===t.tagName)return!1;if("type"===e&&"TEXTAREA"===t.tagName)return!1;if(co.test(e)&&S(i))return!1;return e in t}(t,e,o,a)?function(t,e,i,n,o,a,r){if("innerHTML"===e||"textContent"===e)return n&&r(n,o,a),void(t[e]=null==i?"":i);if("value"===e&&"PROGRESS"!==t.tagName){t._value=i;const n=null==i?"":i;return t.value!==n&&(t.value=n),void(null==i&&t.removeAttribute(e))}if(""===i||null==i){const n=typeof t[e];if(""===i&&"boolean"===n)return void(t[e]=!0);if(null==i&&"string"===n)return t[e]="",void t.removeAttribute(e);if("number"===n){try{t[e]=0}catch(s){}return void t.removeAttribute(e)}}try{t[e]=i}catch(l){}}(t,e,o,r,s,l,c):("true-value"===e?t._trueValue=o:"false-value"===e&&(t._falseValue=o),function(t,e,i,o,a){if(o&&e.startsWith("xlink:"))null==i?t.removeAttributeNS(to,e.slice(6,e.length)):t.setAttributeNS(to,e,i);else{const o=n(e);null==i||o&&!1===i?t.removeAttribute(e):t.setAttribute(e,o?"":i)}}(t,e,o,a))}},forcePatchProp:(t,e)=>"value"===e},qn);let xo;const Co=(...t)=>{const e=(xo||(xo=Qi(_o))).createApp(...t),{mount:i}=e;return e.mount=t=>{const n=function(t){if(S(t)){return document.querySelector(t)}return t}
/*!
    * vue-i18n-lite v1.0.2
    * (c) 2021 Erik Pham
    * @license MIT
    */(t);if(!n)return;const o=e._component;D(o)||o.render||o.template||(o.template=n.innerHTML),n.innerHTML="";const a=i(n,!1,n instanceof SVGElement);return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),a},e};const ko=["__proto__","prototype","constructor"];function Oo(t){const e=t.split("."),i=[];for(let n=0;n<e.length;n++){let t=e[n];for(;"\\"===t[t.length-1]&&void 0!==e[n+1];)t=t.slice(0,-1)+".",t+=e[++n];i.push(t)}return i.some((t=>-1!==ko.indexOf(t)))?[]:i}function Eo(t,e){if(!function(t){const e=typeof t;return null!==t&&("object"===e||"function"===e)}(t))return"";const i=Oo(e);if(0===i.length)return"";let n=Object.assign({},t);for(let o=0;o<i.length;o++){if("string"==typeof n[i[o]])return n[i[o]];if(n=n[i[o]],null==n){if(o!==i.length-1)return"";break}}return""}function Mo(t,e){return Object.keys(e).forEach((i=>{e[i]instanceof Object&&i in t&&(e[i]=__spreadValues(__spreadValues({},e[i]),Mo(t[i],e[i])))})),__spreadValues(__spreadValues({},t||{}),e)}const Do="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,So=(t=>Do?Symbol(t):"_vt_"+t)("i18n");function Fo(t){const e=Object.assign({locale:"en",fallbackLocale:"en",messages:{}},t),i=re(e.locale),n=Kt({});return Object.entries(e.messages).forEach((([t,e])=>{n[t]=e})),{t(t,o){if(!t)return"";const a="string"==typeof o&&o?o:i.value;let r=Eo(n[a],t)||Eo(n[e.fallbackLocale],t);if(o&&"string"!=typeof o){const t=function(t,e){if(Array.isArray(e)){const i={},n=[...t.matchAll(/{(.+?)}/g)];return n&&n.forEach(((t,n)=>{e[n]&&(i[t[1]]=e[n])})),i}return e}(r,o);s=t,(Array.isArray(s)?s.length:Object.keys(s).length)&&(r=function(t,e){for(const i in e)t=t.replace(`{${i}}`,String(e[i]));return t}(r,t))}var s;return r||t},current:Jt(i),options:Jt(t||{}),install(t){t.config.globalProperties.$t=this.t,t.provide(So,this)},changeLocale(t){i.value=t},setLocaleMessage(t,e){n[t]=Mo(ie(n[t]||{}),e)},getLocaleMessage:t=>n[t]||{}}}function Lo(){return"undefined"!=typeof navigator?window:"undefined"!=typeof global?global:{}}function Po(t,e){const i=Lo().__VUE_DEVTOOLS_GLOBAL_HOOK__;if(i)i.emit("devtools-plugin:setup",t,e);else{const i=Lo();(i.__VUE_DEVTOOLS_PLUGINS__=i.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:t,setupFn:e})}}
/*!
   * vuex v4.0.2
   * (c) 2021 Evan You
   * @license MIT
   */function To(t,e){Object.keys(t).forEach((function(i){return e(t[i],i)}))}function Vo(t){return null!==t&&"object"==typeof t}function Wo(t,e,i){return e.indexOf(t)<0&&(i&&i.prepend?e.unshift(t):e.push(t)),function(){var i=e.indexOf(t);i>-1&&e.splice(i,1)}}function Ho(t,e){t._actions=Object.create(null),t._mutations=Object.create(null),t._wrappedGetters=Object.create(null),t._modulesNamespaceMap=Object.create(null);var i=t.state;Ro(t,i,[],t._modules.root,!0),Ao(t,i,e)}function Ao(t,e,i){var n=t._state;t.getters={},t._makeLocalGettersCache=Object.create(null);var o=t._wrappedGetters,a={};To(o,(function(e,i){a[i]=function(t,e){return function(){return t(e)}}(e,t),Object.defineProperty(t.getters,i,{get:function(){return a[i]()},enumerable:!0})})),t._state=Kt({data:e}),t.strict&&function(t){Je((function(){return t._state.data}),(function(){}),{deep:!0,flush:"sync"})}(t),n&&i&&t._withCommit((function(){n.data=null}))}function Ro(t,e,i,n,o){var a=!i.length,r=t._modules.getNamespace(i);if(n.namespaced&&(t._modulesNamespaceMap[r],t._modulesNamespaceMap[r]=n),!a&&!o){var s=Io(e,i.slice(0,-1)),l=i[i.length-1];t._withCommit((function(){s[l]=n.state}))}var c=n.context=function(t,e,i){var n=""===e,o={dispatch:n?t.dispatch:function(i,n,o){var a=Bo(i,n,o),r=a.payload,s=a.options,l=a.type;return s&&s.root||(l=e+l),t.dispatch(l,r)},commit:n?t.commit:function(i,n,o){var a=Bo(i,n,o),r=a.payload,s=a.options,l=a.type;s&&s.root||(l=e+l),t.commit(l,r,s)}};return Object.defineProperties(o,{getters:{get:n?function(){return t.getters}:function(){return No(t,e)}},state:{get:function(){return Io(t.state,i)}}}),o}(t,r,i);n.forEachMutation((function(e,i){!function(t,e,i,n){(t._mutations[e]||(t._mutations[e]=[])).push((function(e){i.call(t,n.state,e)}))}(t,r+i,e,c)})),n.forEachAction((function(e,i){var n=e.root?i:r+i,o=e.handler||e;!function(t,e,i,n){(t._actions[e]||(t._actions[e]=[])).push((function(e){var o,a=i.call(t,{dispatch:n.dispatch,commit:n.commit,getters:n.getters,state:n.state,rootGetters:t.getters,rootState:t.state},e);return(o=a)&&"function"==typeof o.then||(a=Promise.resolve(a)),t._devtoolHook?a.catch((function(e){throw t._devtoolHook.emit("vuex:error",e),e})):a}))}(t,n,o,c)})),n.forEachGetter((function(e,i){!function(t,e,i,n){if(t._wrappedGetters[e])return;t._wrappedGetters[e]=function(t){return i(n.state,n.getters,t.state,t.getters)}}(t,r+i,e,c)})),n.forEachChild((function(n,a){Ro(t,e,i.concat(a),n,o)}))}function No(t,e){if(!t._makeLocalGettersCache[e]){var i={},n=e.length;Object.keys(t.getters).forEach((function(o){if(o.slice(0,n)===e){var a=o.slice(n);Object.defineProperty(i,a,{get:function(){return t.getters[o]},enumerable:!0})}})),t._makeLocalGettersCache[e]=i}return t._makeLocalGettersCache[e]}function Io(t,e){return e.reduce((function(t,e){return t[e]}),t)}function Bo(t,e,i){return Vo(t)&&t.type&&(i=e,e=t,t=t.type),{type:t,payload:e,options:i}}var jo="vuex:mutations",$o="vuex:actions",Uo="vuex",zo=0;function Xo(t,e){Po({id:"org.vuejs.vuex",app:t,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:["vuex bindings"]},(function(i){i.addTimelineLayer({id:jo,label:"Vuex Mutations",color:Yo}),i.addTimelineLayer({id:$o,label:"Vuex Actions",color:Yo}),i.addInspector({id:Uo,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),i.on.getInspectorTree((function(i){if(i.app===t&&i.inspectorId===Uo)if(i.filter){var n=[];Jo(n,e._modules.root,i.filter,""),i.rootNodes=n}else i.rootNodes=[Ko(e._modules.root,"")]})),i.on.getInspectorState((function(i){if(i.app===t&&i.inspectorId===Uo){var n=i.nodeId;No(e,n),i.state=function(t,e,i){e="root"===i?e:e[i];var n=Object.keys(e),o={state:Object.keys(t.state).map((function(e){return{key:e,editable:!0,value:t.state[e]}}))};if(n.length){var a=function(t){var e={};return Object.keys(t).forEach((function(i){var n=i.split("/");if(n.length>1){var o=e,a=n.pop();n.forEach((function(t){o[t]||(o[t]={_custom:{value:{},display:t,tooltip:"Module",abstract:!0}}),o=o[t]._custom.value})),o[a]=Qo((function(){return t[i]}))}else e[i]=Qo((function(){return t[i]}))})),e}(e);o.getters=Object.keys(a).map((function(t){return{key:t.endsWith("/")?qo(t):t,editable:!1,value:Qo((function(){return a[t]}))}}))}return o}((o=e._modules,(r=(a=n).split("/").filter((function(t){return t}))).reduce((function(t,e,i){var n=t[e];if(!n)throw new Error('Missing module "'+e+'" for path "'+a+'".');return i===r.length-1?n:n._children}),"root"===a?o:o.root._children)),"root"===n?e.getters:e._makeLocalGettersCache,n)}var o,a,r})),i.on.editInspectorState((function(i){if(i.app===t&&i.inspectorId===Uo){var n=i.nodeId,o=i.path;"root"!==n&&(o=n.split("/").filter(Boolean).concat(o)),e._withCommit((function(){i.set(e._state.data,o,i.state.value)}))}})),e.subscribe((function(t,e){var n={};t.payload&&(n.payload=t.payload),n.state=e,i.notifyComponentUpdate(),i.sendInspectorTree(Uo),i.sendInspectorState(Uo),i.addTimelineEvent({layerId:jo,event:{time:Date.now(),title:t.type,data:n}})})),e.subscribeAction({before:function(t,e){var n={};t.payload&&(n.payload=t.payload),t._id=zo++,t._time=Date.now(),n.state=e,i.addTimelineEvent({layerId:$o,event:{time:t._time,title:t.type,groupId:t._id,subtitle:"start",data:n}})},after:function(t,e){var n={},o=Date.now()-t._time;n.duration={_custom:{type:"duration",display:o+"ms",tooltip:"Action duration",value:o}},t.payload&&(n.payload=t.payload),n.state=e,i.addTimelineEvent({layerId:$o,event:{time:Date.now(),title:t.type,groupId:t._id,subtitle:"end",data:n}})}})}))}var Yo=8702998,Go={label:"namespaced",textColor:16777215,backgroundColor:6710886};function qo(t){return t&&"root"!==t?t.split("/").slice(-2,-1)[0]:"Root"}function Ko(t,e){return{id:e||"root",label:qo(e),tags:t.namespaced?[Go]:[],children:Object.keys(t._children).map((function(i){return Ko(t._children[i],e+i+"/")}))}}function Jo(t,e,i,n){n.includes(i)&&t.push({id:n||"root",label:n.endsWith("/")?n.slice(0,n.length-1):n||"Root",tags:e.namespaced?[Go]:[]}),Object.keys(e._children).forEach((function(o){Jo(t,e._children[o],i,n+o+"/")}))}function Qo(t){try{return t()}catch(e){return e}}var Zo=function(t,e){this.runtime=e,this._children=Object.create(null),this._rawModule=t;var i=t.state;this.state=("function"==typeof i?i():i)||{}},ta={namespaced:{configurable:!0}};ta.namespaced.get=function(){return!!this._rawModule.namespaced},Zo.prototype.addChild=function(t,e){this._children[t]=e},Zo.prototype.removeChild=function(t){delete this._children[t]},Zo.prototype.getChild=function(t){return this._children[t]},Zo.prototype.hasChild=function(t){return t in this._children},Zo.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)},Zo.prototype.forEachChild=function(t){To(this._children,t)},Zo.prototype.forEachGetter=function(t){this._rawModule.getters&&To(this._rawModule.getters,t)},Zo.prototype.forEachAction=function(t){this._rawModule.actions&&To(this._rawModule.actions,t)},Zo.prototype.forEachMutation=function(t){this._rawModule.mutations&&To(this._rawModule.mutations,t)},Object.defineProperties(Zo.prototype,ta);var ea=function(t){this.register([],t,!1)};function ia(t,e,i){if(e.update(i),i.modules)for(var n in i.modules){if(!e.getChild(n))return;ia(t.concat(n),e.getChild(n),i.modules[n])}}ea.prototype.get=function(t){return t.reduce((function(t,e){return t.getChild(e)}),this.root)},ea.prototype.getNamespace=function(t){var e=this.root;return t.reduce((function(t,i){return t+((e=e.getChild(i)).namespaced?i+"/":"")}),"")},ea.prototype.update=function(t){ia([],this.root,t)},ea.prototype.register=function(t,e,i){var n=this;void 0===i&&(i=!0);var o=new Zo(e,i);0===t.length?this.root=o:this.get(t.slice(0,-1)).addChild(t[t.length-1],o);e.modules&&To(e.modules,(function(e,o){n.register(t.concat(o),e,i)}))},ea.prototype.unregister=function(t){var e=this.get(t.slice(0,-1)),i=t[t.length-1],n=e.getChild(i);n&&n.runtime&&e.removeChild(i)},ea.prototype.isRegistered=function(t){var e=this.get(t.slice(0,-1)),i=t[t.length-1];return!!e&&e.hasChild(i)};var na=function(t){var e=this;void 0===t&&(t={});var i=t.plugins;void 0===i&&(i=[]);var n=t.strict;void 0===n&&(n=!1);var o=t.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new ea(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._devtools=o;var a=this,r=this.dispatch,s=this.commit;this.dispatch=function(t,e){return r.call(a,t,e)},this.commit=function(t,e,i){return s.call(a,t,e,i)},this.strict=n;var l=this._modules.root.state;Ro(this,l,[],this._modules.root),Ao(this,l),i.forEach((function(t){return t(e)}))},oa={state:{configurable:!0}};na.prototype.install=function(t,e){t.provide(e||"store",this),t.config.globalProperties.$store=this,void 0!==this._devtools&&this._devtools&&Xo(t,this)},oa.state.get=function(){return this._state.data},oa.state.set=function(t){},na.prototype.commit=function(t,e,i){var n=this,o=Bo(t,e,i),a=o.type,r=o.payload,s={type:a,payload:r},l=this._mutations[a];l&&(this._withCommit((function(){l.forEach((function(t){t(r)}))})),this._subscribers.slice().forEach((function(t){return t(s,n.state)})))},na.prototype.dispatch=function(t,e){var i=this,n=Bo(t,e),o=n.type,a=n.payload,r={type:o,payload:a},s=this._actions[o];if(s){try{this._actionSubscribers.slice().filter((function(t){return t.before})).forEach((function(t){return t.before(r,i.state)}))}catch(c){}var l=s.length>1?Promise.all(s.map((function(t){return t(a)}))):s[0](a);return new Promise((function(t,e){l.then((function(e){try{i._actionSubscribers.filter((function(t){return t.after})).forEach((function(t){return t.after(r,i.state)}))}catch(c){}t(e)}),(function(t){try{i._actionSubscribers.filter((function(t){return t.error})).forEach((function(e){return e.error(r,i.state,t)}))}catch(c){}e(t)}))}))}},na.prototype.subscribe=function(t,e){return Wo(t,this._subscribers,e)},na.prototype.subscribeAction=function(t,e){return Wo("function"==typeof t?{before:t}:t,this._actionSubscribers,e)},na.prototype.watch=function(t,e,i){var n=this;return Je((function(){return t(n.state,n.getters)}),e,Object.assign({},i))},na.prototype.replaceState=function(t){var e=this;this._withCommit((function(){e._state.data=t}))},na.prototype.registerModule=function(t,e,i){void 0===i&&(i={}),"string"==typeof t&&(t=[t]),this._modules.register(t,e),Ro(this,this.state,t,this._modules.get(t),i.preserveState),Ao(this,this.state)},na.prototype.unregisterModule=function(t){var e=this;"string"==typeof t&&(t=[t]),this._modules.unregister(t),this._withCommit((function(){delete Io(e.state,t.slice(0,-1))[t[t.length-1]]})),Ho(this)},na.prototype.hasModule=function(t){return"string"==typeof t&&(t=[t]),this._modules.isRegistered(t)},na.prototype.hotUpdate=function(t){this._modules.update(t),Ho(this,!0)},na.prototype._withCommit=function(t){var e=this._committing;this._committing=!0,t(),this._committing=e},Object.defineProperties(na.prototype,oa);var aa=da((function(t,e){var i={};return ca(e).forEach((function(e){var n=e.key,o=e.val;i[n]=function(){var e=this.$store.state,i=this.$store.getters;if(t){var n=ha(this.$store,"mapState",t);if(!n)return;e=n.context.state,i=n.context.getters}return"function"==typeof o?o.call(this,e,i):e[o]},i[n].vuex=!0})),i})),ra=da((function(t,e){var i={};return ca(e).forEach((function(e){var n=e.key,o=e.val;i[n]=function(){for(var e=[],i=arguments.length;i--;)e[i]=arguments[i];var n=this.$store.commit;if(t){var a=ha(this.$store,"mapMutations",t);if(!a)return;n=a.context.commit}return"function"==typeof o?o.apply(this,[n].concat(e)):n.apply(this.$store,[o].concat(e))}})),i})),sa=da((function(t,e){var i={};return ca(e).forEach((function(e){var n=e.key,o=e.val;o=t+o,i[n]=function(){if(!t||ha(this.$store,"mapGetters",t))return this.$store.getters[o]},i[n].vuex=!0})),i})),la=da((function(t,e){var i={};return ca(e).forEach((function(e){var n=e.key,o=e.val;i[n]=function(){for(var e=[],i=arguments.length;i--;)e[i]=arguments[i];var n=this.$store.dispatch;if(t){var a=ha(this.$store,"mapActions",t);if(!a)return;n=a.context.dispatch}return"function"==typeof o?o.apply(this,[n].concat(e)):n.apply(this.$store,[o].concat(e))}})),i}));function ca(t){return function(t){return Array.isArray(t)||Vo(t)}(t)?Array.isArray(t)?t.map((function(t){return{key:t,val:t}})):Object.keys(t).map((function(e){return{key:e,val:t[e]}})):[]}function da(t){return function(e,i){return"string"!=typeof e?(i=e,e=""):"/"!==e.charAt(e.length-1)&&(e+="/"),t(e,i)}}function ha(t,e,i){return t._modulesNamespaceMap[i]}const ua="pentatrion-notify",pa="pentatrion-notify__cross",fa=function(t,e){let i=document.createElement("DIV"),n=document.createElement("DIV"),o=e.style,a=document.createElementNS("http://www.w3.org/2000/svg","svg");return a.innerHTML='<path fill="currentColor" d="M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"></path>',a.setAttribute("viewBox","0 0 352 512"),a.setAttribute("height",15),n.append(a),i.classList.add(ua),o&&i.classList.add(ua+"--"+o),i.innerHTML=t,n.classList.add(pa),n.addEventListener("click",i.remove.bind(i)),i.appendChild(n),i},ma="pentatrion-notify--bounce-in";let ga=[];function va(t=document.body){if(t.dataset.miniNotifier)return ga[+t.dataset.miniNotifier];let e=function(){let t=document.createElement("DIV");return t.classList.add("pentatrion-notifies"),t}();t===document.body&&e.classList.add("fixed");let i=ga.push(e);return t.dataset.miniNotifier=i-1,t.appendChild(e),e}function ya(t="",e={}){let i=va(e.target);const n=e.time||5e3;let o=fa(t,e);window.setTimeout((function(){o.remove()}),n),i.appendChild(o),o.classList.add(ma)}const ba={data:()=>({sending:!1,uploadedFiles:0,filesToUpload:0,dropActive:!1,progressFilename:null,progressNumber:0,inputFileId:"file-"+Math.ceil(1e4*Math.random())}),computed:__spreadProps(__spreadValues(__spreadValues({},aa(["endPoints","currentEntryPoint","isAdmin"])),sa(["completeDirectory"])),{canUpload(){return this.isAdmin||!this.currentEntryPoint.readOnly}}),methods:__spreadProps(__spreadValues({},ra(["addFile","setFiles"])),{reset(){this.sending=!1,this.uploadedFiles=0,this.filesToUpload=0,this.progressNumber=0,this.progressFilename=null},highlight(){this.dropActive=!0},unhighlight(){this.dropActive=!1},handleDrop(t){this.unhighlight();let e=t.dataTransfer.files;this.handleFiles(e)},handleChange(t){let e=t.currentTarget.files;this.handleFiles(e)},async handleFiles(t){if(0!==t.length){this.filesToUpload=t.length,this.sending=!0;for(let e of t)await this.uploadFile(e)}},uploadFile(t){let e=this;return new Promise((i=>{let n=new FormData;n.append("file",t),n.append("directory",this.completeDirectory),n.append("origin",this.currentEntryPoint.origin),this.progressFilename=t.name,this.progressNumber=0;let o=new XMLHttpRequest;o.upload.onprogress=function(t){t.lengthComputable&&(e.progressNumber=Math.round(100*t.loaded/t.total))},o.open("POST",this.endPoints.uploadFile),o.onload=function(){let t;e.progressNumber=100;try{t=JSON.parse(this.responseText),200===this.status&&t&&t.data?e.addFile(t.data):ya(t.title||t,{style:"error"})}catch(n){return void ya(this.responseText,{style:"error"})}finally{e.uploadedFiles++,e.checkFinished(),i()}},o.onerror=function(t){ya(t.target.statusText,{style:"error"}),e.uploadedFiles++,e.checkFinished(),i()},o.send(n)}))},checkFinished(){this.uploadedFiles<this.filesToUpload||this.reset()}})},wa=$e();Be("data-v-0ba9d32e");const _a={key:0},xa=xn("i",{class:"fa-doc-add"},null,-1),Ca={key:1},ka={class:"filename"},Oa={class:"counter ref"},Ea={key:1,class:"drop-area readonly"},Ma={class:"label"};je();const Da=wa(((t,e,i,n,o,a)=>null!==t.completeDirectory?(pn(),gn("div",_a,[a.canUpload?(pn(),gn("div",{key:0,class:["drop-area",{highlight:o.dropActive,sending:o.sending}],onDragenter:e[2]||(e[2]=wo(((...t)=>a.highlight&&a.highlight(...t)),["prevent","stop"])),onDragover:e[3]||(e[3]=wo(((...t)=>a.highlight&&a.highlight(...t)),["prevent","stop"])),onDragleave:e[4]||(e[4]=wo(((...t)=>a.unhighlight&&a.unhighlight(...t)),["prevent","stop"])),onDrop:e[5]||(e[5]=wo(((...t)=>a.handleDrop&&a.handleDrop(...t)),["prevent","stop"]))},[xn("input",{type:"file",multiple:"",id:o.inputFileId,class:"input-file",disabled:o.sending,accept:"image/*,text/*,video/*,audio/*,.rtf,.pdf,.xml,font/*,.ods,.odt,.docx,.doc,.xlsx,.xls,.json,.ai,.zip",onChange:e[1]||(e[1]=(...t)=>a.handleChange&&a.handleChange(...t))},null,40,["id","disabled"]),o.sending?o.progressFilename?(pn(),gn("div",Ca,[xn("div",{class:"progress-value",style:{width:o.progressNumber+"%"}},null,4),xn("div",ka,h(o.progressFilename),1),xn("div",Oa,h(o.uploadedFiles+1)+" / "+h(o.filesToUpload),1)])):On("",!0):(pn(),gn("label",{key:0,class:"label",for:o.inputFileId},[xn("span",null,[xa,kn(h(t.$t("add")),1)])],8,["for"]))],34)):(pn(),gn("div",Ea,[xn("label",Ma,h(t.$t("readonlyDir")),1)]))])):On("",!0)));ba.render=Da,ba.__scopeId="data-v-0ba9d32e";const Sa={props:["files"],data:()=>({filename:"",ext:""}),computed:__spreadProps(__spreadValues({},aa(["directory","editing","isAdmin","currentEntryPoint","endPoints","secondaryDirectories"])),{currentDirectoryName(){return this.secondaryDirectories.length>0?this.secondaryDirectories[this.secondaryDirectories.length-1]:this.currentEntryPoint.label},file(){return 1===this.files.length?this.files[0]:null}}),watch:{file(){var t;this.filename=null==(t=this.file)?void 0:t.filename},files(t){}},methods:__spreadProps(__spreadValues(__spreadValues({},la(["updateFilename","download","deleteSelectedFiles"])),ra(["setEditing","setEditContent"])),{formatDate(t){let e=new Date(t);return e instanceof Date&&!isNaN(e)?new Intl.DateTimeFormat("fr-FR").format(e):""},formatRatio:t=>Math.round(100*t)/100,canEdit(t){return!!this.isAdmin||!this.currentEntryPoint.readOnly&&!t.readOnly},canEditContent:t=>!!t.details,copyToClipboard(){this.$refs.inputUrl.select(),document.execCommand("copy"),ya("URL copiée")},editContent(){this.setEditContent(this.file)},editFilename(){if(this.editing){if(this.filename!==this.file.filename){let t,e,i,n;t=this.file.filename.lastIndexOf("."),-1!==t&&(i=this.file.filename.substring(t).toLowerCase(),e=this.filename.lastIndexOf("."),n=-1!==e?this.filename.substring(e).toLowerCase():"",n!==i&&(this.filename+=i)),this.updateFilename({file:this.file,newFilename:this.filename})}}else setTimeout((()=>{this.$refs.inputFilename.select()}),30);this.setEditing(!this.editing)},handleOpen(){this.file.url?window.open(this.file.url,"_blank"):window.open(`${window.location.origin}${this.endPoints.getFileContent}/show/${this.file.origin}/${this.file.uploadRelativePath}`,"_blank")},handleDownload(){let t=0===this.files.length?[this.directory]:this.files;this.download({files:t})}})},Fa=$e();Be("data-v-5b6cfd7a");const La={key:0,class:"infos"},Pa={key:0},Ta={class:"form-group"},Va={class:"form-group"},Wa={key:0},Ha={key:1},Aa={class:"form-group"},Ra={class:"btns"},Na=xn("i",{class:"fa-download"},null,-1),Ia={key:1},Ba={key:0},ja={key:1,class:"input-with-button"},$a={key:0,class:"fa-ok"},Ua={key:1,class:"fa-pencil"},za={key:0,class:"form-group"},Xa={class:"input-with-button"},Ya=xn("i",{class:"fa-clipboard"},null,-1),Ga={class:"form-group"},qa={class:"form-group"},Ka=xn("i",{class:"fa-picture"},null,-1),Ja=xn("i",{class:"fa-ratio"},null,-1),Qa=xn("i",{class:"fa-gauge"},null,-1),Za={class:"form-group btns"},tr=xn("i",{class:"fa-eye"},null,-1),er=xn("i",{class:"fa-edit-image"},null,-1),ir=xn("i",{class:"fa-download"},null,-1),nr=xn("i",{class:"fa-trash"},null,-1),or={key:2};je();const ar=Fa(((t,e,i,n,o,a)=>t.directory?(pn(),gn("div",La,[0===i.files.length?(pn(),gn("div",Pa,[xn("div",Ta,[xn("label",null,h(t.$t("directoryName")),1),xn("div",null,h(t.directory.filename),1)]),xn("div",Va,[xn("label",null,h(t.$t("access")),1),t.currentEntryPoint.readOnly?(pn(),gn("div",Wa,[xn("div",null,h(t.$t("readonly")),1)])):(pn(),gn("div",Ha,[xn("div",null,h(t.$t("editable")),1)]))]),xn("div",Aa,[xn("label",null,h(t.$t("downloadAll")),1),xn("div",Ra,[xn("button",{class:"btn",onClick:e[1]||(e[1]=wo(((...t)=>a.handleDownload&&a.handleDownload(...t)),["prevent"]))},[Na])])])])):1===i.files.length?(pn(),gn("div",Ia,[xn("form",{onSubmit:e[4]||(e[4]=wo(((...t)=>a.editFilename&&a.editFilename(...t)),["prevent"])),class:"form-group filename"},[xn("label",null,h(t.$t("name")),1),a.canEdit(a.file)?(pn(),gn("div",ja,[Ui(xn("input",{size:"1",class:"form-input",ref:"inputFilename",type:"text",disabled:!t.editing,"onUpdate:modelValue":e[2]||(e[2]=e=>t.filename=e)},null,8,["disabled"]),[[fo,t.filename]]),xn("a",{href:"#",onClick:e[3]||(e[3]=wo(((...t)=>a.editFilename&&a.editFilename(...t)),["prevent"])),class:"btn outlined btn-factice"},[t.editing?(pn(),gn("i",$a)):(pn(),gn("i",Ua))])])):(pn(),gn("div",Ba,[xn("div",null,h(a.file.filename),1)]))],32),a.file.url?(pn(),gn("div",za,[xn("label",null,h(t.$t("url")),1),xn("div",Xa,[xn("input",{size:"1",class:"form-input",ref:"inputUrl",onFocus:e[5]||(e[5]=t=>t.target.select()),type:"text",readOnly:"",value:a.file.url},null,40,["value"]),xn("a",{href:"#",onClick:e[6]||(e[6]=wo(((...t)=>a.copyToClipboard&&a.copyToClipboard(...t)),["prevent"])),class:"btn outlined btn-factice"},[Ya])])])):On("",!0),xn("div",Ga,[xn("label",null,h(t.$t("createdAt")),1),xn("div",null,h(a.formatDate(a.file.createdAt)),1)]),xn("div",qa,[xn("label",null,h(t.$t("infos")),1),"image"===a.file.mimeGroup&&a.file.details?(pn(),gn(sn,{key:0},[xn("div",null,[Ka,kn(" "+h(a.file.details.width)+", "+h(a.file.details.height)+" "+h(t.$t("px")),1)]),xn("div",null,[Ja,kn(" "+h(a.formatRatio(a.file.details.ratio)),1)])],64)):On("",!0),xn("div",null,[Qa,kn(" "+h(a.file.humanSize),1)])]),xn("div",Za,[a.file&&!a.file.isDir?(pn(),gn("button",{key:0,class:"btn btn-outlined",onClick:e[7]||(e[7]=wo(((...t)=>a.handleOpen&&a.handleOpen(...t)),["prevent"]))},[tr])):On("",!0),a.canEditContent(a.file)?(pn(),gn("button",{key:1,class:"btn",onClick:e[8]||(e[8]=wo(((...t)=>a.editContent&&a.editContent(...t)),["prevent"]))},[er])):On("",!0),xn("button",{class:"btn",onClick:e[9]||(e[9]=wo(((...t)=>a.handleDownload&&a.handleDownload(...t)),["prevent"]))},[ir]),a.canEdit(a.file)?(pn(),gn("button",{key:2,class:"btn btn-outlined",onClick:e[10]||(e[10]=wo(((...e)=>t.deleteSelectedFiles&&t.deleteSelectedFiles(...e)),["prevent"]))},[nr])):On("",!0)])])):i.files.length>1?(pn(),gn("div",or,h(i.files.length)+" "+h(t.$t("selectedFiles")),1)):On("",!0)])):On("",!0)));Sa.render=ar,Sa.__scopeId="data-v-5b6cfd7a";const rr={props:["options","placeholder","modelValue","splitButton"],emit:["update:modelValue"],data:()=>({isOpen:!1,focusListener:null}),computed:{spinnerClass(){return this.isOpen?"fa-up-open":"fa-down-open"},valueLabel(){return this.modelValue?this.modelValue.label:this.placeholder}},methods:{handleClickOption(t){this.isOpen=!1,this.$emit("update:modelValue",t)},handleClickSelect(t){this.splitButton?this.$emit("click",this.modelValue):this.isOpen=!this.isOpen},handleClickContainer(t){this.isOpen=!1},handleClickSplit(t){this.isOpen=!this.isOpen}}},sr=$e();Be("data-v-2890adc0");const lr={key:0},cr={key:1,class:"select-items"},dr={key:0};je();const hr=sr(((t,e,i,n,o,a)=>(pn(),gn("div",{class:["custom-select",{"is-open":t.isOpen,"with-split-button":i.splitButton&&i.options.length>1}],onClick:e[3]||(e[3]=(...t)=>a.handleClickContainer&&a.handleClickContainer(...t))},[xn("a",{href:"#",class:"select-selected",tabindex:"0",onClick:e[1]||(e[1]=wo(((...t)=>a.handleClickSelect&&a.handleClickSelect(...t)),["stop","prevent"]))},[i.modelValue&&i.modelValue.icon?(pn(),gn("span",lr,[xn("i",{class:i.modelValue.icon},null,2)])):On("",!0),kn(" "+h(a.valueLabel),1)]),i.splitButton&&i.options.length>1?(pn(),gn("a",{key:0,href:"#",tabindex:"0",class:"split-button",onClick:e[2]||(e[2]=wo(((...t)=>a.handleClickSplit&&a.handleClickSplit(...t)),["stop","prevent"]))},[xn("i",{class:a.spinnerClass},null,2)])):On("",!0),t.isOpen?(pn(),gn("div",cr,[(pn(!0),gn(sn,null,Sn(i.options,(t=>(pn(),gn("a",{href:"#",onClick:wo((e=>a.handleClickOption(t)),["stop","prevent"]),key:t.value,class:"select-item"},[t.icon?(pn(),gn("span",dr,[xn("i",{class:t.icon},null,2)])):On("",!0),kn(" "+h(t.label),1)],8,["onClick"])))),128))])):On("",!0)],2))));rr.render=hr,rr.__scopeId="data-v-2890adc0";const ur={props:["file"],methods:{formatDate(t){let e=new Date(t);return e instanceof Date&&!isNaN(e)?new Intl.DateTimeFormat("fr-FR").format(e):""}}},pr=$e();Be("data-v-2100a174");const fr={class:"filename"},mr={class:"size ref"},gr={class:"date ref"};je();const vr=pr(((t,e,i,n,o,a)=>(pn(),gn("a",{href:"#",class:"file",onClick:e[1]||(e[1]=wo((e=>t.$emit("click",e)),["prevent"])),onDblclick:e[2]||(e[2]=e=>t.$emit("dblclick",e))},[xn("div",fr,h(i.file.filename),1),xn("div",mr,h(i.file.humanSize),1),xn("div",gr,h(a.formatDate(i.file.createdAt)),1)],32))));ur.render=vr,ur.__scopeId="data-v-2100a174";const yr={props:["file"],computed:{},methods:{iconPath(t){var e;return(null==(e=t.thumbnails)?void 0:e.small)?t.thumbnails.small:t.icon},isIcon(t){var e;return!(null==(e=t.thumbnails)?void 0:e.small)},handleDragStart(t,e){e.url&&(t.dataTransfer.setData("text/html",`<img src="${e.url}">`),t.dataTransfer.setData("text/plain",e.url),t.dataTransfer.setData("application/x-editor-js",e.url))}}},br=$e();Be("data-v-fc37bbba");const wr={class:"square"},_r={class:"filename"};je();const xr=br(((t,e,i,n,o,a)=>(pn(),gn("a",{href:"#",class:"file",onClick:e[2]||(e[2]=wo((e=>t.$emit("click",e)),["prevent"])),onDblclick:e[3]||(e[3]=e=>t.$emit("dblclick",e))},[xn("div",wr,[xn("div",{class:["img-container",{"is-icon":a.isIcon(i.file),"is-not-icon":!a.isIcon(i.file)}]},[xn("img",{onDragstart:e[1]||(e[1]=t=>a.handleDragStart(t,i.file)),alt:i.file.filename,src:a.iconPath(i.file)},null,40,["alt","src"])],2)]),xn("div",_r,h(i.file.label||i.file.filename),1)],32))));yr.render=xr,yr.__scopeId="data-v-fc37bbba";const Cr={computed:__spreadProps(__spreadValues({},aa(["fileValidation"])),{imageOptions(){return this.fileValidation.imageOptions}})},kr=$e();Be("data-v-62b1f386");const Or={key:0},Er=xn("i",{class:"fa-picture"},null,-1),Mr={key:0},Dr={key:0},Sr=xn("i",{class:"fa-right-open"},null,-1),Fr=xn("i",{class:"fa-ratio"},null,-1),Lr={key:1},Pr=xn("i",{class:"fa-right-open"},null,-1),Tr=xn("i",{class:"fa-resize-horizontal"},null,-1),Vr={key:2},Wr=xn("i",{class:"fa-right-open"},null,-1),Hr=xn("i",{class:"fa-resize-vertical"},null,-1);je();const Ar=kr(((t,e,i,n,o,a)=>(pn(),gn("span",null,["image"===t.fileValidation.mimeGroup?(pn(),gn("span",Or,[Er,a.imageOptions?(pn(),gn("span",Mr,[a.imageOptions.ratio?(pn(),gn("span",Dr,[Sr,Fr,kn(" "+h(Math.round(1e3*a.imageOptions.ratio)/1e3),1)])):On("",!0),a.imageOptions.width||a.imageOptions.maxWidth||a.imageOptions.minWidth?(pn(),gn("span",Lr,[Pr,Tr,kn(" "+h(a.imageOptions.width||a.imageOptions.maxWidth||a.imageOptions.minWidth)+"px "+h(a.imageOptions.maxWidth?"max.":a.imageOptions.minWidth?"min.":""),1)])):On("",!0),a.imageOptions.height||a.imageOptions.maxHeight||a.imageOptions.minHeight?(pn(),gn("span",Vr,[Wr,Hr,kn(" "+h(a.imageOptions.height||a.imageOptions.maxHeight||a.imageOptions.minHeight)+"px "+h(a.imageOptions.maxHeight?"max.":a.imageOptions.minHeight?"min.":""),1)])):On("",!0)])):On("",!0)])):On("",!0)]))));
/*!
   * Cropper.js v1.5.11
   * https://fengyuanchen.github.io/cropperjs
   *
   * Copyright 2015-present Chen Fengyuan
   * Released under the MIT license
   *
   * Date: 2021-02-17T11:53:27.572Z
   */
function Rr(t){return(Rr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Nr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ir(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Br(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function jr(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function $r(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?jr(Object(i),!0).forEach((function(e){Br(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):jr(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function Ur(t){return function(t){if(Array.isArray(t))return zr(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return zr(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return zr(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zr(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}Cr.render=Ar,Cr.__scopeId="data-v-62b1f386";var Xr="undefined"!=typeof window&&void 0!==window.document,Yr=Xr?window:{},Gr=!(!Xr||!Yr.document.documentElement)&&"ontouchstart"in Yr.document.documentElement,qr=!!Xr&&"PointerEvent"in Yr,Kr="cropper",Jr="all",Qr="crop",Zr="move",ts="zoom",es="e",is="w",ns="s",os="n",as="ne",rs="nw",ss="se",ls="sw",cs="".concat(Kr,"-crop"),ds="".concat(Kr,"-disabled"),hs="".concat(Kr,"-hidden"),us="".concat(Kr,"-hide"),ps="".concat(Kr,"-invisible"),fs="".concat(Kr,"-modal"),ms="".concat(Kr,"-move"),gs="".concat(Kr,"Action"),vs="".concat(Kr,"Preview"),ys="crop",bs="move",ws="none",_s="crop",xs="cropend",Cs="cropmove",ks="cropstart",Os="dblclick",Es=qr?"pointerdown":Gr?"touchstart":"mousedown",Ms=qr?"pointermove":Gr?"touchmove":"mousemove",Ds=qr?"pointerup pointercancel":Gr?"touchend touchcancel":"mouseup",Ss="ready",Fs="resize",Ls="wheel",Ps="zoom",Ts="image/jpeg",Vs=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,Ws=/^data:/,Hs=/^data:image\/jpeg;base64,/,As=/^img|canvas$/i,Rs={viewMode:0,dragMode:ys,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:200,minContainerHeight:100,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},Ns=Number.isNaN||Yr.isNaN;function Is(t){return"number"==typeof t&&!Ns(t)}var Bs=function(t){return t>0&&t<1/0};function js(t){return void 0===t}function $s(t){return"object"===Rr(t)&&null!==t}var Us=Object.prototype.hasOwnProperty;function zs(t){if(!$s(t))return!1;try{var e=t.constructor,i=e.prototype;return e&&i&&Us.call(i,"isPrototypeOf")}catch(n){return!1}}function Xs(t){return"function"==typeof t}var Ys=Array.prototype.slice;function Gs(t){return Array.from?Array.from(t):Ys.call(t)}function qs(t,e){return t&&Xs(e)&&(Array.isArray(t)||Is(t.length)?Gs(t).forEach((function(i,n){e.call(t,i,n,t)})):$s(t)&&Object.keys(t).forEach((function(i){e.call(t,t[i],i,t)}))),t}var Ks=Object.assign||function(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];return $s(t)&&i.length>0&&i.forEach((function(e){$s(e)&&Object.keys(e).forEach((function(i){t[i]=e[i]}))})),t},Js=/\.\d*(?:0|9){12}\d*$/;function Qs(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e11;return Js.test(t)?Math.round(t*e)/e:t}var Zs=/^width|height|left|top|marginLeft|marginTop$/;function tl(t,e){var i=t.style;qs(e,(function(t,e){Zs.test(e)&&Is(t)&&(t="".concat(t,"px")),i[e]=t}))}function el(t,e){if(e)if(Is(t.length))qs(t,(function(t){el(t,e)}));else if(t.classList)t.classList.add(e);else{var i=t.className.trim();i?i.indexOf(e)<0&&(t.className="".concat(i," ").concat(e)):t.className=e}}function il(t,e){e&&(Is(t.length)?qs(t,(function(t){il(t,e)})):t.classList?t.classList.remove(e):t.className.indexOf(e)>=0&&(t.className=t.className.replace(e,"")))}function nl(t,e,i){e&&(Is(t.length)?qs(t,(function(t){nl(t,e,i)})):i?el(t,e):il(t,e))}var ol=/([a-z\d])([A-Z])/g;function al(t){return t.replace(ol,"$1-$2").toLowerCase()}function rl(t,e){return $s(t[e])?t[e]:t.dataset?t.dataset[e]:t.getAttribute("data-".concat(al(e)))}function sl(t,e,i){$s(i)?t[e]=i:t.dataset?t.dataset[e]=i:t.setAttribute("data-".concat(al(e)),i)}var ll=/\s\s*/,cl=function(){var t=!1;if(Xr){var e=!1,i=function(){},n=Object.defineProperty({},"once",{get:function(){return t=!0,e},set:function(t){e=t}});Yr.addEventListener("test",i,n),Yr.removeEventListener("test",i,n)}return t}();function dl(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=i;e.trim().split(ll).forEach((function(e){if(!cl){var a=t.listeners;a&&a[e]&&a[e][i]&&(o=a[e][i],delete a[e][i],0===Object.keys(a[e]).length&&delete a[e],0===Object.keys(a).length&&delete t.listeners)}t.removeEventListener(e,o,n)}))}function hl(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=i;e.trim().split(ll).forEach((function(e){if(n.once&&!cl){var a=t.listeners,r=void 0===a?{}:a;o=function(){delete r[e][i],t.removeEventListener(e,o,n);for(var a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];i.apply(t,s)},r[e]||(r[e]={}),r[e][i]&&t.removeEventListener(e,r[e][i],n),r[e][i]=o,t.listeners=r}t.addEventListener(e,o,n)}))}function ul(t,e,i){var n;return Xs(Event)&&Xs(CustomEvent)?n=new CustomEvent(e,{detail:i,bubbles:!0,cancelable:!0}):(n=document.createEvent("CustomEvent")).initCustomEvent(e,!0,!0,i),t.dispatchEvent(n)}function pl(t){var e=t.getBoundingClientRect();return{left:e.left+(window.pageXOffset-document.documentElement.clientLeft),top:e.top+(window.pageYOffset-document.documentElement.clientTop)}}var fl=Yr.location,ml=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function gl(t){var e=t.match(ml);return null!==e&&(e[1]!==fl.protocol||e[2]!==fl.hostname||e[3]!==fl.port)}function vl(t){var e="timestamp=".concat((new Date).getTime());return t+(-1===t.indexOf("?")?"?":"&")+e}function yl(t){var e=t.rotate,i=t.scaleX,n=t.scaleY,o=t.translateX,a=t.translateY,r=[];Is(o)&&0!==o&&r.push("translateX(".concat(o,"px)")),Is(a)&&0!==a&&r.push("translateY(".concat(a,"px)")),Is(e)&&0!==e&&r.push("rotate(".concat(e,"deg)")),Is(i)&&1!==i&&r.push("scaleX(".concat(i,")")),Is(n)&&1!==n&&r.push("scaleY(".concat(n,")"));var s=r.length?r.join(" "):"none";return{WebkitTransform:s,msTransform:s,transform:s}}function bl(t,e){var i=t.pageX,n=t.pageY,o={endX:i,endY:n};return e?o:$r({startX:i,startY:n},o)}function wl(t){var e=t.aspectRatio,i=t.height,n=t.width,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"contain",a=Bs(n),r=Bs(i);if(a&&r){var s=i*e;"contain"===o&&s>n||"cover"===o&&s<n?i=n/e:n=i*e}else a?i=n/e:r&&(n=i*e);return{width:n,height:i}}function _l(t,e,i,n){var o=e.aspectRatio,a=e.naturalWidth,r=e.naturalHeight,s=e.rotate,l=void 0===s?0:s,c=e.scaleX,d=void 0===c?1:c,h=e.scaleY,u=void 0===h?1:h,p=i.aspectRatio,f=i.naturalWidth,m=i.naturalHeight,g=n.fillColor,v=void 0===g?"transparent":g,y=n.imageSmoothingEnabled,b=void 0===y||y,w=n.imageSmoothingQuality,_=void 0===w?"low":w,x=n.maxWidth,C=void 0===x?1/0:x,k=n.maxHeight,O=void 0===k?1/0:k,E=n.minWidth,M=void 0===E?0:E,D=n.minHeight,S=void 0===D?0:D,F=document.createElement("canvas"),L=F.getContext("2d"),P=wl({aspectRatio:p,width:C,height:O}),T=wl({aspectRatio:p,width:M,height:S},"cover"),V=Math.min(P.width,Math.max(T.width,f)),W=Math.min(P.height,Math.max(T.height,m)),H=wl({aspectRatio:o,width:C,height:O}),A=wl({aspectRatio:o,width:M,height:S},"cover"),R=Math.min(H.width,Math.max(A.width,a)),N=Math.min(H.height,Math.max(A.height,r)),I=[-R/2,-N/2,R,N];return F.width=Qs(V),F.height=Qs(W),L.fillStyle=v,L.fillRect(0,0,V,W),L.save(),L.translate(V/2,W/2),L.rotate(l*Math.PI/180),L.scale(d,u),L.imageSmoothingEnabled=b,L.imageSmoothingQuality=_,L.drawImage.apply(L,[t].concat(Ur(I.map((function(t){return Math.floor(Qs(t))}))))),L.restore(),F}var xl=String.fromCharCode;var Cl=/^data:.*,/;function kl(t){var e,i=new DataView(t);try{var n,o,a;if(255===i.getUint8(0)&&216===i.getUint8(1))for(var r=i.byteLength,s=2;s+1<r;){if(255===i.getUint8(s)&&225===i.getUint8(s+1)){o=s;break}s+=1}if(o){var l=o+10;if("Exif"===function(t,e,i){var n="";i+=e;for(var o=e;o<i;o+=1)n+=xl(t.getUint8(o));return n}(i,o+4,4)){var c=i.getUint16(l);if(((n=18761===c)||19789===c)&&42===i.getUint16(l+2,n)){var d=i.getUint32(l+4,n);d>=8&&(a=l+d)}}}if(a){var h,u,p=i.getUint16(a,n);for(u=0;u<p;u+=1)if(h=a+12*u+2,274===i.getUint16(h,n)){h+=8,e=i.getUint16(h,n),i.setUint16(h,1,n);break}}}catch(f){e=1}return e}var Ol={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var t=this.element,e=this.options,i=this.container,n=this.cropper,o=Number(e.minContainerWidth),a=Number(e.minContainerHeight);el(n,hs),il(t,hs);var r={width:Math.max(i.offsetWidth,o>=0?o:200),height:Math.max(i.offsetHeight,a>=0?a:100)};this.containerData=r,tl(n,{width:r.width,height:r.height}),el(t,hs),il(n,hs)},initCanvas:function(){var t=this.containerData,e=this.imageData,i=this.options.viewMode,n=Math.abs(e.rotate)%180==90,o=n?e.naturalHeight:e.naturalWidth,a=n?e.naturalWidth:e.naturalHeight,r=o/a,s=t.width,l=t.height;t.height*r>t.width?3===i?s=t.height*r:l=t.width/r:3===i?l=t.width/r:s=t.height*r;var c={aspectRatio:r,naturalWidth:o,naturalHeight:a,width:s,height:l};this.canvasData=c,this.limited=1===i||2===i,this.limitCanvas(!0,!0),c.width=Math.min(Math.max(c.width,c.minWidth),c.maxWidth),c.height=Math.min(Math.max(c.height,c.minHeight),c.maxHeight),c.left=(t.width-c.width)/2,c.top=(t.height-c.height)/2,c.oldLeft=c.left,c.oldTop=c.top,this.initialCanvasData=Ks({},c)},limitCanvas:function(t,e){var i=this.options,n=this.containerData,o=this.canvasData,a=this.cropBoxData,r=i.viewMode,s=o.aspectRatio,l=this.cropped&&a;if(t){var c=Number(i.minCanvasWidth)||0,d=Number(i.minCanvasHeight)||0;r>1?(c=Math.max(c,n.width),d=Math.max(d,n.height),3===r&&(d*s>c?c=d*s:d=c/s)):r>0&&(c?c=Math.max(c,l?a.width:0):d?d=Math.max(d,l?a.height:0):l&&(c=a.width,(d=a.height)*s>c?c=d*s:d=c/s));var h=wl({aspectRatio:s,width:c,height:d});c=h.width,d=h.height,o.minWidth=c,o.minHeight=d,o.maxWidth=1/0,o.maxHeight=1/0}if(e)if(r>(l?0:1)){var u=n.width-o.width,p=n.height-o.height;o.minLeft=Math.min(0,u),o.minTop=Math.min(0,p),o.maxLeft=Math.max(0,u),o.maxTop=Math.max(0,p),l&&this.limited&&(o.minLeft=Math.min(a.left,a.left+(a.width-o.width)),o.minTop=Math.min(a.top,a.top+(a.height-o.height)),o.maxLeft=a.left,o.maxTop=a.top,2===r&&(o.width>=n.width&&(o.minLeft=Math.min(0,u),o.maxLeft=Math.max(0,u)),o.height>=n.height&&(o.minTop=Math.min(0,p),o.maxTop=Math.max(0,p))))}else o.minLeft=-o.width,o.minTop=-o.height,o.maxLeft=n.width,o.maxTop=n.height},renderCanvas:function(t,e){var i=this.canvasData,n=this.imageData;if(e){var o=function(t){var e=t.width,i=t.height,n=t.degree;if(90==(n=Math.abs(n)%180))return{width:i,height:e};var o=n%90*Math.PI/180,a=Math.sin(o),r=Math.cos(o),s=e*r+i*a,l=e*a+i*r;return n>90?{width:l,height:s}:{width:s,height:l}}({width:n.naturalWidth*Math.abs(n.scaleX||1),height:n.naturalHeight*Math.abs(n.scaleY||1),degree:n.rotate||0}),a=o.width,r=o.height,s=i.width*(a/i.naturalWidth),l=i.height*(r/i.naturalHeight);i.left-=(s-i.width)/2,i.top-=(l-i.height)/2,i.width=s,i.height=l,i.aspectRatio=a/r,i.naturalWidth=a,i.naturalHeight=r,this.limitCanvas(!0,!1)}(i.width>i.maxWidth||i.width<i.minWidth)&&(i.left=i.oldLeft),(i.height>i.maxHeight||i.height<i.minHeight)&&(i.top=i.oldTop),i.width=Math.min(Math.max(i.width,i.minWidth),i.maxWidth),i.height=Math.min(Math.max(i.height,i.minHeight),i.maxHeight),this.limitCanvas(!1,!0),i.left=Math.min(Math.max(i.left,i.minLeft),i.maxLeft),i.top=Math.min(Math.max(i.top,i.minTop),i.maxTop),i.oldLeft=i.left,i.oldTop=i.top,tl(this.canvas,Ks({width:i.width,height:i.height},yl({translateX:i.left,translateY:i.top}))),this.renderImage(t),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(t){var e=this.canvasData,i=this.imageData,n=i.naturalWidth*(e.width/e.naturalWidth),o=i.naturalHeight*(e.height/e.naturalHeight);Ks(i,{width:n,height:o,left:(e.width-n)/2,top:(e.height-o)/2}),tl(this.image,Ks({width:i.width,height:i.height},yl(Ks({translateX:i.left,translateY:i.top},i)))),t&&this.output()},initCropBox:function(){var t=this.options,e=this.canvasData,i=t.aspectRatio||t.initialAspectRatio,n=Number(t.autoCropArea)||.8,o={width:e.width,height:e.height};i&&(e.height*i>e.width?o.height=o.width/i:o.width=o.height*i),this.cropBoxData=o,this.limitCropBox(!0,!0),o.width=Math.min(Math.max(o.width,o.minWidth),o.maxWidth),o.height=Math.min(Math.max(o.height,o.minHeight),o.maxHeight),o.width=Math.max(o.minWidth,o.width*n),o.height=Math.max(o.minHeight,o.height*n),o.left=e.left+(e.width-o.width)/2,o.top=e.top+(e.height-o.height)/2,o.oldLeft=o.left,o.oldTop=o.top,this.initialCropBoxData=Ks({},o)},limitCropBox:function(t,e){var i=this.options,n=this.containerData,o=this.canvasData,a=this.cropBoxData,r=this.limited,s=i.aspectRatio;if(t){var l=Number(i.minCropBoxWidth)||0,c=Number(i.minCropBoxHeight)||0,d=r?Math.min(n.width,o.width,o.width+o.left,n.width-o.left):n.width,h=r?Math.min(n.height,o.height,o.height+o.top,n.height-o.top):n.height;l=Math.min(l,n.width),c=Math.min(c,n.height),s&&(l&&c?c*s>l?c=l/s:l=c*s:l?c=l/s:c&&(l=c*s),h*s>d?h=d/s:d=h*s),a.minWidth=Math.min(l,d),a.minHeight=Math.min(c,h),a.maxWidth=d,a.maxHeight=h}e&&(r?(a.minLeft=Math.max(0,o.left),a.minTop=Math.max(0,o.top),a.maxLeft=Math.min(n.width,o.left+o.width)-a.width,a.maxTop=Math.min(n.height,o.top+o.height)-a.height):(a.minLeft=0,a.minTop=0,a.maxLeft=n.width-a.width,a.maxTop=n.height-a.height))},renderCropBox:function(){var t=this.options,e=this.containerData,i=this.cropBoxData;(i.width>i.maxWidth||i.width<i.minWidth)&&(i.left=i.oldLeft),(i.height>i.maxHeight||i.height<i.minHeight)&&(i.top=i.oldTop),i.width=Math.min(Math.max(i.width,i.minWidth),i.maxWidth),i.height=Math.min(Math.max(i.height,i.minHeight),i.maxHeight),this.limitCropBox(!1,!0),i.left=Math.min(Math.max(i.left,i.minLeft),i.maxLeft),i.top=Math.min(Math.max(i.top,i.minTop),i.maxTop),i.oldLeft=i.left,i.oldTop=i.top,t.movable&&t.cropBoxMovable&&sl(this.face,gs,i.width>=e.width&&i.height>=e.height?Zr:Jr),tl(this.cropBox,Ks({width:i.width,height:i.height},yl({translateX:i.left,translateY:i.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),ul(this.element,_s,this.getData())}},El={initPreview:function(){var t=this.element,e=this.crossOrigin,i=this.options.preview,n=e?this.crossOriginUrl:this.url,o=t.alt||"The image to preview",a=document.createElement("img");if(e&&(a.crossOrigin=e),a.src=n,a.alt=o,this.viewBox.appendChild(a),this.viewBoxImage=a,i){var r=i;"string"==typeof i?r=t.ownerDocument.querySelectorAll(i):i.querySelector&&(r=[i]),this.previews=r,qs(r,(function(t){var i=document.createElement("img");sl(t,vs,{width:t.offsetWidth,height:t.offsetHeight,html:t.innerHTML}),e&&(i.crossOrigin=e),i.src=n,i.alt=o,i.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',t.innerHTML="",t.appendChild(i)}))}},resetPreview:function(){qs(this.previews,(function(t){var e=rl(t,vs);tl(t,{width:e.width,height:e.height}),t.innerHTML=e.html,function(t,e){if($s(t[e]))try{delete t[e]}catch(i){t[e]=void 0}else if(t.dataset)try{delete t.dataset[e]}catch(i){t.dataset[e]=void 0}else t.removeAttribute("data-".concat(al(e)))}(t,vs)}))},preview:function(){var t=this.imageData,e=this.canvasData,i=this.cropBoxData,n=i.width,o=i.height,a=t.width,r=t.height,s=i.left-e.left-t.left,l=i.top-e.top-t.top;this.cropped&&!this.disabled&&(tl(this.viewBoxImage,Ks({width:a,height:r},yl(Ks({translateX:-s,translateY:-l},t)))),qs(this.previews,(function(e){var i=rl(e,vs),c=i.width,d=i.height,h=c,u=d,p=1;n&&(u=o*(p=c/n)),o&&u>d&&(h=n*(p=d/o),u=d),tl(e,{width:h,height:u}),tl(e.getElementsByTagName("img")[0],Ks({width:a*p,height:r*p},yl(Ks({translateX:-s*p,translateY:-l*p},t))))})))}},Ml={bind:function(){var t=this.element,e=this.options,i=this.cropper;Xs(e.cropstart)&&hl(t,ks,e.cropstart),Xs(e.cropmove)&&hl(t,Cs,e.cropmove),Xs(e.cropend)&&hl(t,xs,e.cropend),Xs(e.crop)&&hl(t,_s,e.crop),Xs(e.zoom)&&hl(t,Ps,e.zoom),hl(i,Es,this.onCropStart=this.cropStart.bind(this)),e.zoomable&&e.zoomOnWheel&&hl(i,Ls,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),e.toggleDragModeOnDblclick&&hl(i,Os,this.onDblclick=this.dblclick.bind(this)),hl(t.ownerDocument,Ms,this.onCropMove=this.cropMove.bind(this)),hl(t.ownerDocument,Ds,this.onCropEnd=this.cropEnd.bind(this)),e.responsive&&hl(window,Fs,this.onResize=this.resize.bind(this))},unbind:function(){var t=this.element,e=this.options,i=this.cropper;Xs(e.cropstart)&&dl(t,ks,e.cropstart),Xs(e.cropmove)&&dl(t,Cs,e.cropmove),Xs(e.cropend)&&dl(t,xs,e.cropend),Xs(e.crop)&&dl(t,_s,e.crop),Xs(e.zoom)&&dl(t,Ps,e.zoom),dl(i,Es,this.onCropStart),e.zoomable&&e.zoomOnWheel&&dl(i,Ls,this.onWheel,{passive:!1,capture:!0}),e.toggleDragModeOnDblclick&&dl(i,Os,this.onDblclick),dl(t.ownerDocument,Ms,this.onCropMove),dl(t.ownerDocument,Ds,this.onCropEnd),e.responsive&&dl(window,Fs,this.onResize)}},Dl={resize:function(){if(!this.disabled){var t,e,i=this.options,n=this.container,o=this.containerData,a=n.offsetWidth/o.width;if(1!==a||n.offsetHeight!==o.height)i.restore&&(t=this.getCanvasData(),e=this.getCropBoxData()),this.render(),i.restore&&(this.setCanvasData(qs(t,(function(e,i){t[i]=e*a}))),this.setCropBoxData(qs(e,(function(t,i){e[i]=t*a}))))}},dblclick:function(){var t,e;this.disabled||this.options.dragMode===ws||this.setDragMode((t=this.dragBox,e=cs,(t.classList?t.classList.contains(e):t.className.indexOf(e)>-1)?bs:ys))},wheel:function(t){var e=this,i=Number(this.options.wheelZoomRatio)||.1,n=1;this.disabled||(t.preventDefault(),this.wheeling||(this.wheeling=!0,setTimeout((function(){e.wheeling=!1}),50),t.deltaY?n=t.deltaY>0?1:-1:t.wheelDelta?n=-t.wheelDelta/120:t.detail&&(n=t.detail>0?1:-1),this.zoom(-n*i,t)))},cropStart:function(t){var e=t.buttons,i=t.button;if(!(this.disabled||("mousedown"===t.type||"pointerdown"===t.type&&"mouse"===t.pointerType)&&(Is(e)&&1!==e||Is(i)&&0!==i||t.ctrlKey))){var n,o=this.options,a=this.pointers;t.changedTouches?qs(t.changedTouches,(function(t){a[t.identifier]=bl(t)})):a[t.pointerId||0]=bl(t),n=Object.keys(a).length>1&&o.zoomable&&o.zoomOnTouch?ts:rl(t.target,gs),Vs.test(n)&&!1!==ul(this.element,ks,{originalEvent:t,action:n})&&(t.preventDefault(),this.action=n,this.cropping=!1,n===Qr&&(this.cropping=!0,el(this.dragBox,fs)))}},cropMove:function(t){var e=this.action;if(!this.disabled&&e){var i=this.pointers;t.preventDefault(),!1!==ul(this.element,Cs,{originalEvent:t,action:e})&&(t.changedTouches?qs(t.changedTouches,(function(t){Ks(i[t.identifier]||{},bl(t,!0))})):Ks(i[t.pointerId||0]||{},bl(t,!0)),this.change(t))}},cropEnd:function(t){if(!this.disabled){var e=this.action,i=this.pointers;t.changedTouches?qs(t.changedTouches,(function(t){delete i[t.identifier]})):delete i[t.pointerId||0],e&&(t.preventDefault(),Object.keys(i).length||(this.action=""),this.cropping&&(this.cropping=!1,nl(this.dragBox,fs,this.cropped&&this.options.modal)),ul(this.element,xs,{originalEvent:t,action:e}))}}},Sl={change:function(t){var e,i=this.options,n=this.canvasData,o=this.containerData,a=this.cropBoxData,r=this.pointers,s=this.action,l=i.aspectRatio,c=a.left,d=a.top,h=a.width,u=a.height,p=c+h,f=d+u,m=0,g=0,v=o.width,y=o.height,b=!0;!l&&t.shiftKey&&(l=h&&u?h/u:1),this.limited&&(m=a.minLeft,g=a.minTop,v=m+Math.min(o.width,n.width,n.left+n.width),y=g+Math.min(o.height,n.height,n.top+n.height));var w=r[Object.keys(r)[0]],_={x:w.endX-w.startX,y:w.endY-w.startY},x=function(t){switch(t){case es:p+_.x>v&&(_.x=v-p);break;case is:c+_.x<m&&(_.x=m-c);break;case os:d+_.y<g&&(_.y=g-d);break;case ns:f+_.y>y&&(_.y=y-f)}};switch(s){case Jr:c+=_.x,d+=_.y;break;case es:if(_.x>=0&&(p>=v||l&&(d<=g||f>=y))){b=!1;break}x(es),(h+=_.x)<0&&(s=is,c-=h=-h),l&&(u=h/l,d+=(a.height-u)/2);break;case os:if(_.y<=0&&(d<=g||l&&(c<=m||p>=v))){b=!1;break}x(os),u-=_.y,d+=_.y,u<0&&(s=ns,d-=u=-u),l&&(h=u*l,c+=(a.width-h)/2);break;case is:if(_.x<=0&&(c<=m||l&&(d<=g||f>=y))){b=!1;break}x(is),h-=_.x,c+=_.x,h<0&&(s=es,c-=h=-h),l&&(u=h/l,d+=(a.height-u)/2);break;case ns:if(_.y>=0&&(f>=y||l&&(c<=m||p>=v))){b=!1;break}x(ns),(u+=_.y)<0&&(s=os,d-=u=-u),l&&(h=u*l,c+=(a.width-h)/2);break;case as:if(l){if(_.y<=0&&(d<=g||p>=v)){b=!1;break}x(os),u-=_.y,d+=_.y,h=u*l}else x(os),x(es),_.x>=0?p<v?h+=_.x:_.y<=0&&d<=g&&(b=!1):h+=_.x,_.y<=0?d>g&&(u-=_.y,d+=_.y):(u-=_.y,d+=_.y);h<0&&u<0?(s=ls,d-=u=-u,c-=h=-h):h<0?(s=rs,c-=h=-h):u<0&&(s=ss,d-=u=-u);break;case rs:if(l){if(_.y<=0&&(d<=g||c<=m)){b=!1;break}x(os),u-=_.y,d+=_.y,h=u*l,c+=a.width-h}else x(os),x(is),_.x<=0?c>m?(h-=_.x,c+=_.x):_.y<=0&&d<=g&&(b=!1):(h-=_.x,c+=_.x),_.y<=0?d>g&&(u-=_.y,d+=_.y):(u-=_.y,d+=_.y);h<0&&u<0?(s=ss,d-=u=-u,c-=h=-h):h<0?(s=as,c-=h=-h):u<0&&(s=ls,d-=u=-u);break;case ls:if(l){if(_.x<=0&&(c<=m||f>=y)){b=!1;break}x(is),h-=_.x,c+=_.x,u=h/l}else x(ns),x(is),_.x<=0?c>m?(h-=_.x,c+=_.x):_.y>=0&&f>=y&&(b=!1):(h-=_.x,c+=_.x),_.y>=0?f<y&&(u+=_.y):u+=_.y;h<0&&u<0?(s=as,d-=u=-u,c-=h=-h):h<0?(s=ss,c-=h=-h):u<0&&(s=rs,d-=u=-u);break;case ss:if(l){if(_.x>=0&&(p>=v||f>=y)){b=!1;break}x(es),u=(h+=_.x)/l}else x(ns),x(es),_.x>=0?p<v?h+=_.x:_.y>=0&&f>=y&&(b=!1):h+=_.x,_.y>=0?f<y&&(u+=_.y):u+=_.y;h<0&&u<0?(s=rs,d-=u=-u,c-=h=-h):h<0?(s=ls,c-=h=-h):u<0&&(s=as,d-=u=-u);break;case Zr:this.move(_.x,_.y),b=!1;break;case ts:this.zoom(function(t){var e=$r({},t),i=0;return qs(t,(function(t,n){delete e[n],qs(e,(function(e){var n=Math.abs(t.startX-e.startX),o=Math.abs(t.startY-e.startY),a=Math.abs(t.endX-e.endX),r=Math.abs(t.endY-e.endY),s=Math.sqrt(n*n+o*o),l=(Math.sqrt(a*a+r*r)-s)/s;Math.abs(l)>Math.abs(i)&&(i=l)}))})),i}(r),t),b=!1;break;case Qr:if(!_.x||!_.y){b=!1;break}e=pl(this.cropper),c=w.startX-e.left,d=w.startY-e.top,h=a.minWidth,u=a.minHeight,_.x>0?s=_.y>0?ss:as:_.x<0&&(c-=h,s=_.y>0?ls:rs),_.y<0&&(d-=u),this.cropped||(il(this.cropBox,hs),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0))}b&&(a.width=h,a.height=u,a.left=c,a.top=d,this.action=s,this.renderCropBox()),qs(r,(function(t){t.startX=t.endX,t.startY=t.endY}))}},Fl={crop:function(){return!this.ready||this.cropped||this.disabled||(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&el(this.dragBox,fs),il(this.cropBox,hs),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=Ks({},this.initialImageData),this.canvasData=Ks({},this.initialCanvasData),this.cropBoxData=Ks({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(Ks(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),il(this.dragBox,fs),el(this.cropBox,hs)),this},replace:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!this.disabled&&t&&(this.isImg&&(this.element.src=t),e?(this.url=t,this.image.src=t,this.ready&&(this.viewBoxImage.src=t,qs(this.previews,(function(e){e.getElementsByTagName("img")[0].src=t})))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(t))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,il(this.cropper,ds)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,el(this.cropper,ds)),this},destroy:function(){var t=this.element;return t.cropper?(t.cropper=void 0,this.isImg&&this.replaced&&(t.src=this.originalUrl),this.uncreate(),this):this},move:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,i=this.canvasData,n=i.left,o=i.top;return this.moveTo(js(t)?t:n+Number(t),js(e)?e:o+Number(e))},moveTo:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,i=this.canvasData,n=!1;return t=Number(t),e=Number(e),this.ready&&!this.disabled&&this.options.movable&&(Is(t)&&(i.left=t,n=!0),Is(e)&&(i.top=e,n=!0),n&&this.renderCanvas(!0)),this},zoom:function(t,e){var i=this.canvasData;return t=(t=Number(t))<0?1/(1-t):1+t,this.zoomTo(i.width*t/i.naturalWidth,null,e)},zoomTo:function(t,e,i){var n=this.options,o=this.canvasData,a=o.width,r=o.height,s=o.naturalWidth,l=o.naturalHeight;if((t=Number(t))>=0&&this.ready&&!this.disabled&&n.zoomable){var c=s*t,d=l*t;if(!1===ul(this.element,Ps,{ratio:t,oldRatio:a/s,originalEvent:i}))return this;if(i){var h=this.pointers,u=pl(this.cropper),p=h&&Object.keys(h).length?function(t){var e=0,i=0,n=0;return qs(t,(function(t){var o=t.startX,a=t.startY;e+=o,i+=a,n+=1})),{pageX:e/=n,pageY:i/=n}}(h):{pageX:i.pageX,pageY:i.pageY};o.left-=(c-a)*((p.pageX-u.left-o.left)/a),o.top-=(d-r)*((p.pageY-u.top-o.top)/r)}else zs(e)&&Is(e.x)&&Is(e.y)?(o.left-=(c-a)*((e.x-o.left)/a),o.top-=(d-r)*((e.y-o.top)/r)):(o.left-=(c-a)/2,o.top-=(d-r)/2);o.width=c,o.height=d,this.renderCanvas(!0)}return this},rotate:function(t){return this.rotateTo((this.imageData.rotate||0)+Number(t))},rotateTo:function(t){return Is(t=Number(t))&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=t%360,this.renderCanvas(!0,!0)),this},scaleX:function(t){var e=this.imageData.scaleY;return this.scale(t,Is(e)?e:1)},scaleY:function(t){var e=this.imageData.scaleX;return this.scale(Is(e)?e:1,t)},scale:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,i=this.imageData,n=!1;return t=Number(t),e=Number(e),this.ready&&!this.disabled&&this.options.scalable&&(Is(t)&&(i.scaleX=t,n=!0),Is(e)&&(i.scaleY=e,n=!0),n&&this.renderCanvas(!0,!0)),this},getData:function(){var t,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=this.options,n=this.imageData,o=this.canvasData,a=this.cropBoxData;if(this.ready&&this.cropped){t={x:a.left-o.left,y:a.top-o.top,width:a.width,height:a.height};var r=n.width/n.naturalWidth;if(qs(t,(function(e,i){t[i]=e/r})),e){var s=Math.round(t.y+t.height),l=Math.round(t.x+t.width);t.x=Math.round(t.x),t.y=Math.round(t.y),t.width=l-t.x,t.height=s-t.y}}else t={x:0,y:0,width:0,height:0};return i.rotatable&&(t.rotate=n.rotate||0),i.scalable&&(t.scaleX=n.scaleX||1,t.scaleY=n.scaleY||1),t},setData:function(t){var e=this.options,i=this.imageData,n=this.canvasData,o={};if(this.ready&&!this.disabled&&zs(t)){var a=!1;e.rotatable&&Is(t.rotate)&&t.rotate!==i.rotate&&(i.rotate=t.rotate,a=!0),e.scalable&&(Is(t.scaleX)&&t.scaleX!==i.scaleX&&(i.scaleX=t.scaleX,a=!0),Is(t.scaleY)&&t.scaleY!==i.scaleY&&(i.scaleY=t.scaleY,a=!0)),a&&this.renderCanvas(!0,!0);var r=i.width/i.naturalWidth;Is(t.x)&&(o.left=t.x*r+n.left),Is(t.y)&&(o.top=t.y*r+n.top),Is(t.width)&&(o.width=t.width*r),Is(t.height)&&(o.height=t.height*r),this.setCropBoxData(o)}return this},getContainerData:function(){return this.ready?Ks({},this.containerData):{}},getImageData:function(){return this.sized?Ks({},this.imageData):{}},getCanvasData:function(){var t=this.canvasData,e={};return this.ready&&qs(["left","top","width","height","naturalWidth","naturalHeight"],(function(i){e[i]=t[i]})),e},setCanvasData:function(t){var e=this.canvasData,i=e.aspectRatio;return this.ready&&!this.disabled&&zs(t)&&(Is(t.left)&&(e.left=t.left),Is(t.top)&&(e.top=t.top),Is(t.width)?(e.width=t.width,e.height=t.width/i):Is(t.height)&&(e.height=t.height,e.width=t.height*i),this.renderCanvas(!0)),this},getCropBoxData:function(){var t,e=this.cropBoxData;return this.ready&&this.cropped&&(t={left:e.left,top:e.top,width:e.width,height:e.height}),t||{}},setCropBoxData:function(t){var e,i,n=this.cropBoxData,o=this.options.aspectRatio;return this.ready&&this.cropped&&!this.disabled&&zs(t)&&(Is(t.left)&&(n.left=t.left),Is(t.top)&&(n.top=t.top),Is(t.width)&&t.width!==n.width&&(e=!0,n.width=t.width),Is(t.height)&&t.height!==n.height&&(i=!0,n.height=t.height),o&&(e?n.height=n.width/o:i&&(n.width=n.height*o)),this.renderCropBox()),this},getCroppedCanvas:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var e=this.canvasData,i=_l(this.image,this.imageData,e,t);if(!this.cropped)return i;var n=this.getData(),o=n.x,a=n.y,r=n.width,s=n.height,l=i.width/Math.floor(e.naturalWidth);1!==l&&(o*=l,a*=l,r*=l,s*=l);var c=r/s,d=wl({aspectRatio:c,width:t.maxWidth||1/0,height:t.maxHeight||1/0}),h=wl({aspectRatio:c,width:t.minWidth||0,height:t.minHeight||0},"cover"),u=wl({aspectRatio:c,width:t.width||(1!==l?i.width:r),height:t.height||(1!==l?i.height:s)}),p=u.width,f=u.height;p=Math.min(d.width,Math.max(h.width,p)),f=Math.min(d.height,Math.max(h.height,f));var m=document.createElement("canvas"),g=m.getContext("2d");m.width=Qs(p),m.height=Qs(f),g.fillStyle=t.fillColor||"transparent",g.fillRect(0,0,p,f);var v=t.imageSmoothingEnabled,y=void 0===v||v,b=t.imageSmoothingQuality;g.imageSmoothingEnabled=y,b&&(g.imageSmoothingQuality=b);var w,_,x,C,k,O,E=i.width,M=i.height,D=o,S=a;D<=-r||D>E?(D=0,w=0,x=0,k=0):D<=0?(x=-D,D=0,k=w=Math.min(E,r+D)):D<=E&&(x=0,k=w=Math.min(r,E-D)),w<=0||S<=-s||S>M?(S=0,_=0,C=0,O=0):S<=0?(C=-S,S=0,O=_=Math.min(M,s+S)):S<=M&&(C=0,O=_=Math.min(s,M-S));var F=[D,S,w,_];if(k>0&&O>0){var L=p/r;F.push(x*L,C*L,k*L,O*L)}return g.drawImage.apply(g,[i].concat(Ur(F.map((function(t){return Math.floor(Qs(t))}))))),m},setAspectRatio:function(t){var e=this.options;return this.disabled||js(t)||(e.aspectRatio=Math.max(0,t)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(t){var e=this.options,i=this.dragBox,n=this.face;if(this.ready&&!this.disabled){var o=t===ys,a=e.movable&&t===bs;t=o||a?t:ws,e.dragMode=t,sl(i,gs,t),nl(i,cs,o),nl(i,ms,a),e.cropBoxMovable||(sl(n,gs,t),nl(n,cs,o),nl(n,ms,a))}return this}},Ll=Yr.Cropper,Pl=function(){function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(Nr(this,t),!e||!As.test(e.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=e,this.options=Ks({},Rs,zs(i)&&i),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}var e,i,n;return e=t,n=[{key:"noConflict",value:function(){return window.Cropper=Ll,t}},{key:"setDefaults",value:function(t){Ks(Rs,zs(t)&&t)}}],(i=[{key:"init",value:function(){var t,e=this.element,i=e.tagName.toLowerCase();if(!e.cropper){if(e.cropper=this,"img"===i){if(this.isImg=!0,t=e.getAttribute("src")||"",this.originalUrl=t,!t)return;t=e.src}else"canvas"===i&&window.HTMLCanvasElement&&(t=e.toDataURL());this.load(t)}}},{key:"load",value:function(t){var e=this;if(t){this.url=t,this.imageData={};var i=this.element,n=this.options;if(n.rotatable||n.scalable||(n.checkOrientation=!1),n.checkOrientation&&window.ArrayBuffer)if(Ws.test(t))Hs.test(t)?this.read((o=t.replace(Cl,""),a=atob(o),r=new ArrayBuffer(a.length),qs(s=new Uint8Array(r),(function(t,e){s[e]=a.charCodeAt(e)})),r)):this.clone();else{var o,a,r,s,l=new XMLHttpRequest,c=this.clone.bind(this);this.reloading=!0,this.xhr=l,l.onabort=c,l.onerror=c,l.ontimeout=c,l.onprogress=function(){l.getResponseHeader("content-type")!==Ts&&l.abort()},l.onload=function(){e.read(l.response)},l.onloadend=function(){e.reloading=!1,e.xhr=null},n.checkCrossOrigin&&gl(t)&&i.crossOrigin&&(t=vl(t)),l.open("GET",t,!0),l.responseType="arraybuffer",l.withCredentials="use-credentials"===i.crossOrigin,l.send()}else this.clone()}}},{key:"read",value:function(t){var e=this.options,i=this.imageData,n=kl(t),o=0,a=1,r=1;if(n>1){this.url=function(t,e){for(var i=[],n=new Uint8Array(t);n.length>0;)i.push(xl.apply(null,Gs(n.subarray(0,8192)))),n=n.subarray(8192);return"data:".concat(e,";base64,").concat(btoa(i.join("")))}(t,Ts);var s=function(t){var e=0,i=1,n=1;switch(t){case 2:i=-1;break;case 3:e=-180;break;case 4:n=-1;break;case 5:e=90,n=-1;break;case 6:e=90;break;case 7:e=90,i=-1;break;case 8:e=-90}return{rotate:e,scaleX:i,scaleY:n}}(n);o=s.rotate,a=s.scaleX,r=s.scaleY}e.rotatable&&(i.rotate=o),e.scalable&&(i.scaleX=a,i.scaleY=r),this.clone()}},{key:"clone",value:function(){var t=this.element,e=this.url,i=t.crossOrigin,n=e;this.options.checkCrossOrigin&&gl(e)&&(i||(i="anonymous"),n=vl(e)),this.crossOrigin=i,this.crossOriginUrl=n;var o=document.createElement("img");i&&(o.crossOrigin=i),o.src=n||e,o.alt=t.alt||"The image to crop",this.image=o,o.onload=this.start.bind(this),o.onerror=this.stop.bind(this),el(o,us),t.parentNode.insertBefore(o,t.nextSibling)}},{key:"start",value:function(){var t=this,e=this.image;e.onload=null,e.onerror=null,this.sizing=!0;var i=Yr.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(Yr.navigator.userAgent),n=function(e,i){Ks(t.imageData,{naturalWidth:e,naturalHeight:i,aspectRatio:e/i}),t.initialImageData=Ks({},t.imageData),t.sizing=!1,t.sized=!0,t.build()};if(!e.naturalWidth||i){var o=document.createElement("img"),a=document.body||document.documentElement;this.sizingImage=o,o.onload=function(){n(o.width,o.height),i||a.removeChild(o)},o.src=e.src,i||(o.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",a.appendChild(o))}else n(e.naturalWidth,e.naturalHeight)}},{key:"stop",value:function(){var t=this.image;t.onload=null,t.onerror=null,t.parentNode.removeChild(t),this.image=null}},{key:"build",value:function(){if(this.sized&&!this.ready){var t=this.element,e=this.options,i=this.image,n=t.parentNode,o=document.createElement("div");o.innerHTML='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>';var a=o.querySelector(".".concat(Kr,"-container")),r=a.querySelector(".".concat(Kr,"-canvas")),s=a.querySelector(".".concat(Kr,"-drag-box")),l=a.querySelector(".".concat(Kr,"-crop-box")),c=l.querySelector(".".concat(Kr,"-face"));this.container=n,this.cropper=a,this.canvas=r,this.dragBox=s,this.cropBox=l,this.viewBox=a.querySelector(".".concat(Kr,"-view-box")),this.face=c,r.appendChild(i),el(t,hs),n.insertBefore(a,t.nextSibling),this.isImg||il(i,us),this.initPreview(),this.bind(),e.initialAspectRatio=Math.max(0,e.initialAspectRatio)||NaN,e.aspectRatio=Math.max(0,e.aspectRatio)||NaN,e.viewMode=Math.max(0,Math.min(3,Math.round(e.viewMode)))||0,el(l,hs),e.guides||el(l.getElementsByClassName("".concat(Kr,"-dashed")),hs),e.center||el(l.getElementsByClassName("".concat(Kr,"-center")),hs),e.background&&el(a,"".concat(Kr,"-bg")),e.highlight||el(c,ps),e.cropBoxMovable&&(el(c,ms),sl(c,gs,Jr)),e.cropBoxResizable||(el(l.getElementsByClassName("".concat(Kr,"-line")),hs),el(l.getElementsByClassName("".concat(Kr,"-point")),hs)),this.render(),this.ready=!0,this.setDragMode(e.dragMode),e.autoCrop&&this.crop(),this.setData(e.data),Xs(e.ready)&&hl(t,Ss,e.ready,{once:!0}),ul(t,Ss)}}},{key:"unbuild",value:function(){this.ready&&(this.ready=!1,this.unbind(),this.resetPreview(),this.cropper.parentNode.removeChild(this.cropper),il(this.element,hs))}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}])&&Ir(e.prototype,i),n&&Ir(e,n),t}();Ks(Pl.prototype,Ol,El,Ml,Dl,Sl,Fl);const Tl={},Vl=$e();Be("data-v-774aa8e0");const Wl={class:"spinner"},Hl=xn("div",{class:"la-ball-spin-rotate"},[xn("div"),xn("div")],-1);je();const Al=Vl(((t,e)=>(pn(),gn("div",Wl,[Hl]))));Tl.render=Al,Tl.__scopeId="data-v-774aa8e0";let Rl=null,Nl={autoCrop:!1,toggleDragModeOnDblclick:!1,dragMode:"crop",viewMode:1,checkOrientation:!0,rotatable:!0};const Il={components:{ValidationString:Cr,Spinner:Tl},props:["file"],data:()=>({dragMode:Nl.dragMode,isValidationActive:!0,ratio:"",ratioLockedByValidation:!1,isValidRatio:!0,naturalWidth:0,naturalHeight:0,cropWidth:0,cropHeight:0,finalWidth:0,finalWidthLocked:!1,finalWidthLockedByValidation:!1,finalHeight:0,finalHeightLocked:!1,finalHeightLockedByValidation:!1,isImageLoading:!0,isCropping:!1}),computed:__spreadProps(__spreadValues({},aa(["fileValidation"])),{imageValidation(){var t;return null==(t=this.fileValidation)?void 0:t.imageOptions},isFinalWidthValid(){return!this.isValidationActive||!this.imageValidation||!(this.imageValidation.minWidth&&this.imageValidation.minWidth>this.finalWidth)&&!(this.imageValidation.maxWidth&&this.imageValidation.maxWidth<this.finalWidth)},isFinalHeightValid(){return!this.isValidationActive||!this.imageValidation||!(this.imageValidation.minHeight&&this.imageValidation.minHeight>this.finalHeight)&&!(this.imageValidation.maxHeight&&this.imageValidation.maxHeight<this.finalHeight)}}),watch:{isValidationActive(){this.checkValidation()}},methods:__spreadProps(__spreadValues(__spreadValues({updateRatio(t){let e,i,n=t.target.value;if(this.ratio=n,!n)return this.isValidRatio=!0,void Rl.setAspectRatio(NaN);let o=n.split(":"),a=n.split("/"),r=parseFloat(n);2===o.length?(e=parseInt(o[0]),i=parseInt(o[1]),r=e/i):2===a.length&&(e=parseInt(a[0]),i=parseInt(a[1]),r=e/i),isNaN(r)?this.isValidRatio=!1:(this.isValidRatio=!0,Rl.setAspectRatio(r))},handleLock(t){this.finalWidthLockedByValidation||this.finalHeightLockedByValidation?ya(this.$t("disableRules"),{style:"error"}):"height"===t?(this.finalHeightLocked=!this.finalHeightLocked,this.finalHeightLocked&&(this.finalWidthLocked=!1)):(this.finalWidthLocked=!this.finalWidthLocked,this.finalWidthLocked&&(this.finalHeightLocked=!1))},userChangeFinalWidth(t){this.finalWidthLocked=!0,this.finalHeightLocked=!1,this.finalHeight=Math.round(this.finalWidth*this.cropHeight/this.cropWidth)},userChangeFinalHeight(t){this.finalHeightLocked=!0,this.finalWidthLocked=!1,this.finalWidth=Math.round(this.finalHeight*this.cropWidth/this.cropHeight)}},ra(["setEditContent"])),la(["cropFile"])),{handleReturn(){this.destroyCropper(),this.setEditContent(null)},handleClear(){Rl.clear(),Rl.reset(),this.cropWidth=this.naturalWidth,this.cropHeight=this.naturalHeight,this.finalWidthLocked||this.finalHeightLocked?this.finalWidthLocked?this.finalHeight=Math.round(this.finalWidth*this.cropHeight/this.cropWidth):this.finalHeightLocked&&(this.finalWidth=Math.round(this.finalHeight*this.cropWidth/this.cropHeight)):(this.finalWidth=this.naturalWidth,this.finalHeight=this.naturalHeight),this.checkValidation()},changeMode(t){Rl&&("none"===t&&this.handleClear(),this.dragMode=t,Rl.setDragMode(t))},rotate(t){Rl&&Rl.rotate(t)},handleCrop({detail:t}){let e=Math.round(t.width),i=Math.round(t.height);if(0===e||0===i)return this.cropWidth=0,this.cropHeight=0,this.finalWidthLocked||(this.finalWidth=0),void(this.finalHeightLocked||(this.finalHeight=0));this.cropWidth=e,this.cropHeight=i,this.finalWidthLockedByValidation?(this.finalWidth=this.imageValidation.width,this.finalHeight=Math.round(this.finalWidth*t.height/t.width)):this.finalHeightLockedByValidation?(this.finalHeight=this.imageValidation.height,this.finalWidth=Math.round(this.finalHeight*t.width/t.height)):this.finalWidthLocked||this.finalHeightLocked?this.finalWidthLocked?this.finalHeight=Math.round(this.finalWidth*t.height/t.width):this.finalHeightLocked&&(this.finalWidth=Math.round(this.finalHeight*t.width/t.height)):(this.finalWidth=e,this.finalHeight=i)},isReady(){let t=Rl.getImageData();this.naturalWidth=t.naturalWidth,this.naturalHeight=t.naturalHeight,this.cropWidth=t.naturalWidth,this.cropHeight=t.naturalHeight,this.finalWidth=t.naturalWidth,this.finalHeight=t.naturalHeight,this.checkValidation()},checkValidation(){this.imageValidation&&(this.isValidationActive?(this.imageValidation.ratio&&(Rl.setAspectRatio(this.imageValidation.ratio),this.ratio=this.imageValidation.ratio,this.ratioLockedByValidation=!0),this.imageValidation.width&&(this.finalWidth=this.imageValidation.width,this.finalWidthLockedByValidation=!0,this.ratio&&(this.finalHeight=this.finalWidth/this.ratio)),this.imageValidation.height&&(this.finalHeight=this.imageValidation.height,this.finalHeightLockedByValidation=!0,this.ratio&&(this.finalWidth=this.finalHeight*this.ratio))):(Rl.setAspectRatio(NaN),this.ratioLockedByValidation=!1,this.finalWidthLockedByValidation=!1,this.finalHeightLockedByValidation=!1))},async onImageLoad(){this.$refs.imageElt&&(this.isImageLoading=!1,await Me(),this.initCropper())},initCropper(){!Rl&&this.$refs.imageElt&&(this.$refs.imageElt.addEventListener("crop",this.handleCrop),this.$refs.imageElt.addEventListener("ready",this.isReady),Rl=new Pl(this.$refs.imageElt,Nl))},async handleSave(){this.isCropping=!0;let t=Rl.getData();try{let e=await this.cropFile({file:this.file,dimensions:t,finalWidth:this.finalWidth,finalHeight:this.finalHeight});this.isImageLoading=!0,e.url&&Rl.replace(e.url)}finally{this.isCropping=!1}},destroyCropper(){Rl&&Rl.destroy(),this.naturalWidth=0,this.naturalHeight=0,this.cropWidth=0,this.cropHeight=0,this.finalWidth=0,this.finalHeight=0,Rl=null,this.$refs.imageElt.removeEventListener("crop",this.handleCrop),this.$refs.imageElt.removeEventListener("ready",this.isReady)},unmounted(){this.destroyCropper()}})},Bl=$e();Be("data-v-7bbd208b");const jl={key:0,class:"image-editor"},$l={class:"header"},Ul={key:0,class:"toolbar loader"},zl={key:1,class:"btn outlined validation-string"},Xl={class:"toolbar"},Yl={class:"btn-group"},Gl=xn("i",{class:"fa-move"},null,-1),ql=xn("i",{class:"fa-crop"},null,-1),Kl={class:"btn-group"},Jl=xn("i",{class:"fa-ccw"},null,-1),Ql=xn("i",{class:"fa-cw"},null,-1),Zl=xn("i",{class:"fa-cancel"},null,-1),tc=xn("i",{class:"fa-ok"},null,-1),ec={class:"content"},ic={class:"abs-content"},nc={class:"footer"},oc=xn("i",{class:"fa-picture"},null,-1),ac=xn("i",{class:"fa-right-open"},null,-1),rc=xn("i",{class:"fa-ratio"},null,-1),sc=xn("i",{class:"fa-right-open"},null,-1),lc=xn("i",{class:"fa-crop"},null,-1),cc=xn("i",{class:"fa-right-open"},null,-1),dc=xn("i",{class:"fa-resize-horizontal"},null,-1),hc=xn("i",{class:"fa-right-open"},null,-1),uc=xn("i",{class:"fa-resize-vertical"},null,-1);je();const pc=Bl(((t,e,i,n,o,a)=>{const r=nn("Spinner"),s=nn("ValidationString");return i.file?(pn(),gn("div",jl,[xn("div",$l,[xn("button",{class:"btn outlined back",onClick:e[1]||(e[1]=(...t)=>a.handleReturn&&a.handleReturn(...t))},h(t.$t("return")),1),o.isCropping?(pn(),gn("div",Ul,[xn(r)])):On("",!0),t.fileValidation&&t.fileValidation.imageOptions?(pn(),gn("label",zl,[Ui(xn("input",{type:"checkbox",class:"form-checkbox","onUpdate:modelValue":e[2]||(e[2]=t=>o.isValidationActive=t)},null,512),[[mo,o.isValidationActive]]),xn(s)])):On("",!0),xn("div",Xl,[xn("div",Yl,[xn("button",{class:["btn outlined",{active:"move"===o.dragMode}],onClick:e[3]||(e[3]=t=>a.changeMode("move"))},[Gl],2),xn("button",{class:["btn outlined",{active:"crop"===o.dragMode}],onClick:e[4]||(e[4]=t=>a.changeMode("crop"))},[ql],2)]),xn("div",Kl,[xn("button",{class:"btn outlined",onClick:e[5]||(e[5]=t=>a.rotate(-90))},[Jl]),xn("button",{class:"btn outlined",onClick:e[6]||(e[6]=t=>a.rotate(90))},[Ql])]),xn("button",{class:"btn outlined",onClick:e[7]||(e[7]=(...t)=>a.handleClear&&a.handleClear(...t))},[Zl]),xn("button",{class:"btn",onClick:e[8]||(e[8]=(...t)=>a.handleSave&&a.handleSave(...t))},[tc])])]),xn("div",ec,[xn("div",ic,[xn("img",{class:["original",{"is-image-loading":o.isImageLoading}],ref:"imageElt",src:i.file.urlTimestamped,onLoad:e[9]||(e[9]=(...t)=>a.onImageLoad&&a.onImageLoad(...t))},null,42,["src"])])]),xn("div",nc,[xn("span",null,[oc,xn("span",null,h(o.naturalWidth)+", "+h(o.naturalHeight)+" px",1),ac,rc,xn("input",{type:"text",class:["ratio form-input",{"is-invalid":!o.isValidRatio}],value:o.ratio,disabled:o.ratioLockedByValidation,onInput:e[10]||(e[10]=(...t)=>a.updateRatio&&a.updateRatio(...t)),placeholder:"ex: 16:9"},null,42,["value","disabled"])]),xn("span",null,[sc,lc,xn("span",null,h(o.cropWidth)+", "+h(o.cropHeight)+" px",1)]),xn("span",null,[cc,dc,Ui(xn("input",{type:"text","onUpdate:modelValue":e[11]||(e[11]=t=>o.finalWidth=t),class:["nb form-input",{"is-invalid":!a.isFinalWidthValid}],disabled:o.finalWidthLockedByValidation||o.finalHeightLockedByValidation||o.finalHeightLocked,onInput:e[12]||(e[12]=(...t)=>a.userChangeFinalWidth&&a.userChangeFinalWidth(...t))},null,42,["disabled"]),[[fo,o.finalWidth]]),xn("span",{class:"lock",onClick:e[13]||(e[13]=t=>a.handleLock("width"))},[xn("i",{class:{"fa-lock":o.finalWidthLockedByValidation||o.finalWidthLocked,"fa-lock-open":!(o.finalWidthLockedByValidation||o.finalWidthLocked)}},null,2)])]),xn("span",null,[hc,uc,Ui(xn("input",{type:"text","onUpdate:modelValue":e[14]||(e[14]=t=>o.finalHeight=t),class:["nb form-input",{"is-invalid":!a.isFinalHeightValid}],disabled:o.finalWidthLockedByValidation||o.finalHeightLockedByValidation||o.finalWidthLocked,onInput:e[15]||(e[15]=(...t)=>a.userChangeFinalHeight&&a.userChangeFinalHeight(...t))},null,42,["disabled"]),[[fo,o.finalHeight]]),xn("span",{class:"lock",onClick:e[16]||(e[16]=t=>a.handleLock("height"))},[xn("i",{class:{"fa-lock":o.finalHeightLockedByValidation||o.finalHeightLocked,"fa-lock-open":!(o.finalHeightLockedByValidation||o.finalHeightLocked)}},null,2)])])])])):On("",!0)}));Il.render=pc,Il.__scopeId="data-v-7bbd208b";const fc={components:{Uploader:ba,Infos:Sa,VSelect:rr,Icon:yr,ListItem:ur,ImageEditor:Il},props:{isModal:{type:Boolean,default:!1}},data:()=>({presentation:"icons",options:{}}),computed:__spreadProps(__spreadValues(__spreadValues(__spreadValues({},aa(["editing","files","entryPoints","secondaryDirectories","currentEntryPoint","isAdmin","selectedFiles","editContent"])),sa(["sortedFiles"])),ra(["setEditContent"])),{canEdit(){return!!this.isAdmin||this.currentEntryPoint&&!this.currentEntryPoint.readOnly},currentEntryPoint:{get(){return this.$store.state.currentEntryPoint},set(t){this.$store.dispatch("setCurrentEntryPoint",t)}},fileComponent(){return"list"===this.presentation?ur:yr},presentationClass(){return`${this.presentation}-presentation`}}),methods:__spreadProps(__spreadValues(__spreadValues({},ra(["selectFile","unselectFiles","addFileToSelection","removeFileToSelection"])),la(["init","setCurrentEntryPoint","download","deleteSelectedFiles","setSecondaryDirectoryFromFullDirectory","addDirectory"])),{toggleOrder(){this.presentation="list"===this.presentation?"icons":"list"},noDragging(t){t.dataTransfer.dropEffect="none"},isSelected(t){return this.selectedFiles.includes(t)},handleKeyPressed(t){46===t.keyCode&&this.selectedFiles.length>0&&!this.editing&&this.deleteSelectedFiles()},handleAddDirectory(){let t=this;!function(t="",e={}){let i=va(e.target),n=function(t,e){e.style="prompt";let i=fa(t,e),n=document.createElement("form"),o=document.createElement("button"),a=document.createElement("input"),r=i.querySelector(`.${pa}`),s=e.cancelHandler,l=e.okHandler;return n.classList.add("pentatrion-notify__btns-wrapper"),o.innerHTML=e.okText||"Valider",o.classList.add("btn"),a.classList.add("form-input"),e.placeholder&&a.setAttribute("placeholder",e.placeholder),e.default&&(a.value=e.default),e.inputType&&(a.type=e.inputType),s&&"function"==typeof s&&r.addEventListener("click",s),n.addEventListener("submit",(function(t){t.preventDefault(),l&&"function"==typeof l&&l(a.value)})),l&&"function"==typeof l&&o.addEventListener("click",(function(){l(a.value)})),o.addEventListener("click",i.remove.bind(i)),n.appendChild(a),n.appendChild(o),i.appendChild(n),setTimeout((()=>{a.focus()}),100),i}(t,e);i.appendChild(n),n.classList.add(ma)}("Nom du dossier",{okHandler:function(e){e.length>128?ya("Le nom du dossier est trop long.",{style:"error"}):t.addDirectory(e)}})},handleClick(t,e){if(e&&2===e.detail)return;-1===this.selectedFiles.indexOf(t)&&this.addFileToSelection(t)},handleDblClick(t){switch(t.type){case"file":this.isModal?this.$emit("confirm"):this.download({files:[t]});break;case"dir":this.setSecondaryDirectoryFromFullDirectory(t.uploadRelativePath)}},handleChangeSecondaryDirectory(t){let e=[];for(let n=0;n<t;n++)e.push(this.secondaryDirectories[n]);let i=e.join("/");""!==i&&(i="/"+i),this.setSecondaryDirectoryFromFullDirectory(this.currentEntryPoint.directory+i)}}),mounted(){this.init(),window.addEventListener("keydown",this.handleKeyPressed)},unmounted(){window.removeEventListener("keydown",this.handleKeyPressed)}},mc=$e();Be("data-v-8c0cc7aa");const gc={class:"action"},vc={key:0,class:"fa-order-list"},yc={key:1,class:"fa-order-icons"},bc=xn("i",{class:"fa-folder-add"},null,-1),wc={class:"hierarchy"},_c={class:"files"};je();const xc=mc(((t,e,i,n,o,a)=>{const r=nn("ImageEditor"),s=nn("Uploader"),l=nn("VSelect"),c=nn("Infos");return t.editContent?(pn(),gn(r,{key:0,class:"image-editor",file:t.editContent},null,8,["file"])):(pn(),gn("div",{key:1,class:"file-manager",onDragover:e[6]||(e[6]=(...t)=>a.noDragging&&a.noDragging(...t))},[xn("div",gc,[xn("button",{class:"btn btn-outlined",onClick:e[1]||(e[1]=wo((t=>a.toggleOrder()),["prevent"]))},["list"===o.presentation?(pn(),gn("i",vc)):On("",!0),"icons"===o.presentation?(pn(),gn("i",yc)):On("",!0)]),xn("button",{class:"btn btn-outlined",disabled:!a.canEdit,onClick:e[2]||(e[2]=(...t)=>a.handleAddDirectory&&a.handleAddDirectory(...t))},[bc],8,["disabled"])]),xn(s,{class:"dropzone"}),xn("div",wc,[xn(l,{class:"directory-selector","split-button":!0,options:t.entryPoints,modelValue:a.currentEntryPoint,"onUpdate:modelValue":e[3]||(e[3]=t=>a.currentEntryPoint=t),onClick:e[4]||(e[4]=t=>a.handleChangeSecondaryDirectory(0)),placeholder:"Répertoire"},null,8,["options","modelValue"]),(pn(!0),gn(sn,null,Sn(t.secondaryDirectories,((t,e)=>(pn(),gn("button",{class:"btn btn-outlined",onClick:t=>a.handleChangeSecondaryDirectory(e+1),key:e},h(t),9,["onClick"])))),128))]),xn("div",{class:["files-container",{[a.presentationClass]:!0}],onClick:e[5]||(e[5]=(...e)=>t.unselectFiles&&t.unselectFiles(...e))},[xn("div",_c,[(pn(!0),gn(sn,null,Sn(t.sortedFiles,(t=>{return pn(),gn((e=a.fileComponent,S(e)?an(en,e,!1)||e:e||on),{key:t.id,class:["file",{selected:a.isSelected(t)}],file:t,onClick:wo((e=>a.handleClick(t,e)),["stop"]),onDblclick:wo((e=>a.handleDblClick(t)),["stop"])},null,8,["file","class","onClick","onDblclick"]);var e})),128))])],2),xn(c,{class:"infos",files:t.selectedFiles},null,8,["files"])],32))}));fc.render=xc,fc.__scopeId="data-v-8c0cc7aa";const Cc={components:{FileManager:fc,ImageEditor:Il,ValidationString:Cr},data:()=>({}),computed:__spreadValues(__spreadValues({},aa(["selectedFiles","fileValidation","editContent"])),sa(["invalidSelectedFiles","uneditableSelectedFiles"])),methods:__spreadProps(__spreadValues({},ra(["setEditContent"])),{handleAbort(){let t=new CustomEvent("abortSelect");this.$el.dispatchEvent(t)},goEditor(){this.setEditContent(this.invalidSelectedFiles[0])},handleNext(){this.setEditContent(this.invalidSelectedFiles[0])},handleSelect(){if(0===this.invalidSelectedFiles.length){let t=new CustomEvent("selectFiles",{detail:this.selectedFiles});this.$el.dispatchEvent(t)}else 0===this.uneditableSelectedFiles.length&&this.goEditor()}})},kc=$e();Be("data-v-5b064e56");const Oc={class:"file-manager-modal"},Ec={class:"box"},Mc={class:"actions"},Dc=xn("div",{class:"sep"},null,-1);je();const Sc=kc(((t,e,i,n,o,a)=>{const r=nn("FileManager"),s=an("directives","scroll-lock");return Ui((pn(),gn("div",Oc,[xn("div",Ec,[xn(r,{class:"main-content","is-modal":!0,onConfirm:a.handleSelect},null,8,["onConfirm"]),xn("div",Mc,[t.editContent?On("",!0):(pn(),gn("button",{key:0,class:"btn outlined abort",onClick:e[1]||(e[1]=(...t)=>a.handleAbort&&a.handleAbort(...t))},h(t.$t("cancel")),1)),Dc,t.invalidSelectedFiles.length>0&&!t.editContent&&0===t.uneditableSelectedFiles.length?(pn(),gn("button",{key:1,class:"btn",onClick:e[2]||(e[2]=(...t)=>a.goEditor&&a.goEditor(...t))},h(t.$t("editAndSelect")),1)):t.invalidSelectedFiles.length>0&&t.invalidSelectedFiles[0]!==t.editContent&&0===t.uneditableSelectedFiles.length?(pn(),gn("button",{key:2,class:"btn",onClick:e[3]||(e[3]=(...t)=>a.handleNext&&a.handleNext(...t)),disabled:t.uneditableSelectedFiles.length>0},[xn("span",null,h(t.$t("continue")),1)],8,["disabled"])):0===t.invalidSelectedFiles.length?(pn(),gn("button",{key:3,class:"btn",onClick:e[4]||(e[4]=(...t)=>a.handleSelect&&a.handleSelect(...t)),disabled:t.invalidSelectedFiles.length>0},[xn("span",null,h(t.$t("select")),1)],8,["disabled"])):On("",!0)])]),xn("div",{class:"bg",onClick:e[5]||(e[5]=(...t)=>a.handleAbort&&a.handleAbort(...t))})],512)),[[s,void 0,"enabled"]])}));Cc.render=Sc,Cc.__scopeId="data-v-5b064e56";let Fc=[];const Lc=(t=document.body)=>{let e=Fc.find((e=>e.targetElement===t));e&&(e.previousInlinePaddingRight?t.style.paddingRight=e.previousInlinePaddingRight:t.style.paddingRight=null,e.previousOverflowSetting?t.style.overflow=e.previousOverflowSetting:t.style.overflow=null,Fc=Fc.filter((e=>e.targetElement!==t)))},Pc={mounted:(t,e)=>{e.arg&&("enabled"===e.arg&&((t=document.body)=>{if(Fc.find((e=>e.targetElement===t)))return;let e,i,n=t===document.body?window.innerWidth-document.documentElement.clientWidth:t.offsetWidth-t.clientWidth;n>0&&(i=t.style.paddingRight,e=parseInt(getComputedStyle(t)["padding-right"]),n+=i||e,t.style.paddingRight=`${n}px`);let o=t.style.overflow;t.style.overflow="hidden",Fc.push({targetElement:t,previousInlinePaddingRight:i,previousOverflowSetting:o})})(e.value?document.querySelector(e.value):void 0),"disabled"===e.arg&&Lc(e.value?document.querySelector(e.value):void 0))},unmounted:(t,e)=>{Lc()}};function Tc(t,e){let i=document.createElement("a");i.href=URL.createObjectURL(t),i.download=e,document.body.appendChild(i),i.dispatchEvent(new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window})),document.body.removeChild(i)}function Vc(t){return t<10?"0"+t:t}const Wc="pentatrion-notifications",Hc="pentatrion-notification",Ac="pentatrion-notification__cross",Rc=[];function Nc(t=document.body){if(t.dataset.miniNotifier)return Rc[+t.dataset.miniNotifier];const e=function(){const t=document.createElement("DIV");return t.classList.add(Wc),t}();t===document.body&&e.classList.add("fixed");const i=Rc.push(e);return t.dataset.miniNotifier=(i-1).toString(),t.appendChild(e),e}function Ic(t="",e={}){const i=Nc(e.target),n=e.time||5e3,o=function(t,e={}){const i=document.createElement("DIV"),n=document.createElement("DIV"),o=e.style,a=document.createElementNS("http://www.w3.org/2000/svg","svg");return a.innerHTML='<path fill="currentColor" d="M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"></path>',a.setAttribute("viewBox","0 0 352 512"),a.setAttribute("height","15"),n.append(a),i.classList.add(Hc),o&&i.classList.add(Hc+"--"+o),i.innerHTML=t,n.classList.add(Ac),n.addEventListener("click",i.remove.bind(i)),i.appendChild(n),i}(t,e);window.setTimeout((function(){o.remove()}),n),i.appendChild(o),o.classList.add("pentatrion-notification--bounce-in")}async function Bc(t,e={},i=!1){try{return await function(t,e={},i=!1){e.body&&"object"==typeof e.body&&(e.body=function(t){const e=new FormData;for(let i in t)if(t[i]instanceof Array)for(let n of t[i])e.append(`${i}[]`,n);else e.append(i,t[i]);return e}(e.body));let n=new Headers({Accept:"application/json"});i&&n.append("X-Requested-With","XMLHttpRequest");return e=__spreadValues({headers:n,method:"POST"},e),jc(t,e)}(t,e,i)}catch(n){throw Ic(n instanceof $c?n.title:n,{style:"error",time:5e3}),n}}async function jc(t,e={}){let i,n;try{if(i=await fetch(t,e),204===i.status)return null}catch(o){throw new $c("Erreur serveur.",401)}if(i.headers.has("Content-Type")&&"application/json"!==i.headers.get("Content-Type")){if(!i.ok)throw new $c("Erreur serveur.",500);return i}try{n=await i.json()}catch(o){throw new $c("Le contenu renvoyé est illisible.",500)}if(!i.ok){let t=n.err||n.title||n.detail||"Erreur serveur";throw new $c(t,i.status)}return n}class $c{constructor(t,e=500){__publicField(this,"title"),__publicField(this,"status"),this.title=t,this.status=e}}function Uc(t){return t?(t.imageOptions&&t.imageOptions.width&&t.imageOptions.height&&(t.imageOptions.ratio=t.imageOptions.width/t.imageOptions.height,delete t.imageOptions.height),t):null}function zc({entryPoints:t,isAdmin:e,endPoint:i,fileValidation:n,originalSelection:o}){o=function(t,e){if(!t||0===t.length)return null;let i,n,o,a,r,s,l,c=[];for(let d of t)"@"!==d[0]?(n=e[0].origin,o=d,l=`@${n}:${o}`):(l=d,i=d.substr(1),a=i.indexOf(":"),n=i.substr(0,a),o=i.substr(a+1)),r=o.lastIndexOf("/"),-1===r?s="":(s=o.substr(0,r),o=o.substr(r+1)),c.push([n,s,o,l]);return c}(o,t);return a={state:{endPoints:{deleteFile:`${i}/delete`,downloadArchive:`${i}/download-archive`,getFileContent:`${i}/get-file-content`,editFile:`${i}/edit`,getFiles:`${i}/get-files`,uploadFile:`${i}/upload`,addDirectory:`${i}/add-directory`,cropFile:`${i}/crop`},isAdmin:e,entryPoints:t,fileValidation:Uc(n),currentEntryPoint:null,secondaryDirectories:[],multiple:!1,directory:null,files:[],selectedFiles:[],editing:!1,editContent:null,sortBy:"filename"},getters:{sortedFiles:t=>t.files.sort(((e,i)=>e[t.sortBy]>i[t.sortBy])),completeDirectory(t){let e="",i="";return t.currentEntryPoint?(t.secondaryDirectories.length>0&&(e=t.secondaryDirectories.join("/")),""!==t.currentEntryPoint.directory&&(i=t.currentEntryPoint.directory),i+(""!==e?"/"+e:"")):null},invalidSelectedFiles:t=>t.selectedFiles.filter((e=>!function(t,e){if(!e)return!0;if(!1===e.allowDir&&"dir"===t.type)return!1;if(e.mimeGroup!==t.mimeGroup)return!1;if("image"===e.mimeGroup){if(!e.imageOptions)return!0;if(e.imageOptions.allowSvg&&("image/svg+xml"===t.mimeType||"image/svg"===t.mimeType))return!0;if(!t.details)return!1;if(e.imageOptions.ratio&&Math.round(1e5*e.imageOptions.ratio)!==Math.round(1e5*t.details.ratio))return!1;if(e.imageOptions.width&&e.imageOptions.width!==t.details.width)return!1;if(e.imageOptions.height&&e.imageOptions.height!==t.details.height)return!1;if(e.imageOptions.minWidth&&e.imageOptions.minWidth>t.details.width)return!1;if(e.imageOptions.minHeight&&e.imageOptions.minHeight>t.details.height)return!1;if(e.imageOptions.maxWidth&&e.imageOptions.maxWidth<t.details.width)return!1;if(e.imageOptions.maxHeight&&e.imageOptions.maxHeight<t.details.height)return!1}return!0}(e,t.fileValidation))),uneditableSelectedFiles:t=>t.selectedFiles.filter((e=>!function(t){return"image"===t.mimeGroup&&"image/svg+xml"!==t.mimeType&&"image/svg"!==t.mimeType}(e,t.fileValidation)))},mutations:{setFiles(t,e){t.files=e},replaceFile(t,{file:e,newFile:i}){let n=t.files.indexOf(e);-1===n&&console.log("impossible de trouver le fichier",e),t.files.splice(n,1,i)},removeFile(t,e){let i=t.files.indexOf(e);-1===i&&console.log("impossible de trouver le fichier",e),t.files.splice(i,1)},setDirectory(t,e){t.directory=e},setEntryPoints(t,e){t.entryPoints=e},addFile(t,e){t.files.splice(0,0,e)},addFileByIdToSelection(t,e){let i=t.files.find((t=>t.id===e));i&&(t.multiple?t.selectedFiles.push(i):t.selectedFiles=[i])},addFileToSelection(t,e){t.multiple?t.selectedFiles.push(e):t.selectedFiles=[e]},removeFileToSelection(t,e){let i=t.selectedFiles.indexOf(e);t.selectedFiles.splice(i,1)},clearSelection(t){t.selectedFiles=[]},selectFileByInode(t,e){let i=t.files.find((t=>t.inode===e));i&&(t.selectedFiles=[i])},unselectFiles(t){t.selectedFiles=[]},setEditing(t,e){t.editing=e},setEditContent(t,e=null){t.editContent=e},setCurrentEntryPoint(t,e){t.currentEntryPoint=e},setSecondaryDirectory(t,e){t.secondaryDirectories=e}},actions:{async addDirectory({state:t,getters:e,dispatch:i,commit:n},o){let{directory:a}=await Bc(t.endPoints.addDirectory,{body:{filename:o,directory:e.completeDirectory,origin:t.currentEntryPoint.origin}});n("addFile",a)},async cropFile({commit:t,state:e},{file:i,dimensions:n,finalWidth:o,finalHeight:a}){let{uploadRelativePath:r,origin:s}=i,{x:l,y:c,width:d,height:h,rotate:u}=n,{file:p}=await Bc(e.endPoints.cropFile,{body:{uploadRelativePath:r,origin:s,x:l,y:c,width:d,height:h,finalWidth:o,finalHeight:a,rotate:u}});return t("removeFileToSelection",i),t("replaceFile",{file:i,newFile:p}),t("addFileToSelection",p),t("setEditContent",p),p},async updateFilename({commit:t,state:e,dispatch:i},{file:n,newFilename:o}){console.log("before",n);let{origin:a,uploadRelativePath:r,directory:s,filename:l}=n,{file:c}=await Bc(e.endPoints.editFile,{body:{origin:a,uploadRelativePath:r,directory:s,filename:l,readOnly:e.currentEntryPoint.readOnly,newFilename:o}});console.log("after",c),t("unselectFiles"),t("replaceFile",{file:n,newFile:c}),t("selectFileByInode",c.inode)},async download({state:t,getters:e},{files:i=[]}){if(1===i.length&&!i[0].isDir){let e=i[0];return void async function(t,e={},i=!1){try{let n=new Headers({Accept:"application/json"});return i&&n.append("X-Requested-With","XMLHttpRequest"),e=__spreadValues({headers:n,method:"GET"},e),await jc(t,e)}catch(n){throw Ic(n instanceof $c?n.title:n,{style:"error",time:5e3}),n}}(`${t.endPoints.getFileContent}/download/${e.origin}/${e.uploadRelativePath}`).then((t=>t.blob())).then((t=>Tc(t,e.filename)))}let n=t.directory.filename+"-"+function(t,e=!1){let i=t.getUTCFullYear()+"-"+Vc(t.getUTCMonth()+1)+"-"+Vc(t.getUTCDate());return e?i+"T"+Vc(t.getUTCHours())+"-"+Vc(t.getUTCMinutes()):i}(new Date)+".zip";Bc(t.endPoints.downloadArchive,{body:{files:i.map((t=>t.id))}}).then((t=>t.blob())).then((t=>{Tc(t,n)}))},async deleteSelectedFiles({commit:t,dispatch:e,state:i}){Bc(i.endPoints.deleteFile,{body:{files:i.selectedFiles.map((t=>t.id))}}).catch((()=>{e("getFiles")}));let n=i.selectedFiles;t("clearSelection");for(let o of n)t("removeFile",o)},async getFiles({dispatch:t,state:e,getters:i,commit:n}){let{files:a,directory:r}=await Bc(e.endPoints.getFiles,{body:{directory:i.completeDirectory,origin:e.currentEntryPoint.origin}});if(t("setFiles",a),r||console.error("no directory !"),n("setDirectory",r),o){for(let t of o){let e=a.find((e=>e.id===t[3]));e&&n("addFileToSelection",e)}o=null}},async setFiles({commit:t},e){t("unselectFiles"),t("setFiles",e)},async setCurrentEntryPoint({commit:t,dispatch:e},i){t("setCurrentEntryPoint",i);let n=i.directory;o&&(n=o[0][1]),e("setSecondaryDirectoryFromFullDirectory",n)},async setSecondaryDirectoryFromFullDirectory({state:t,commit:e,dispatch:i},n){let o=t.currentEntryPoint.directory;if(0!==n.indexOf(o))return void console.error("répertoire inconnu");let a=n.substring(o.length),r=[];""!==a&&(a=a.replace(/^\//,""),r=a.split("/")),e("setSecondaryDirectory",r),i("getFiles")},async init({dispatch:t,state:e}){let i;o&&(i=e.entryPoints.find((t=>t.origin===o[0][0]))),t("setCurrentEntryPoint",i||e.entryPoints[0])}}},new na(a);var a}var Xc={fr:{cancel:"Annuler",editAndSelect:"Éditer puis sélectionner",continue:"Continuer",select:"Sélectionner",return:"Retour",disableRules:"Désactivez les règles de validation pour changer les verrous",directoryName:"Nom du dossier",readonly:"Lecture seule",editable:"Lecture et modification",access:"Accès",downloadAll:"Télécharger tout le dossier",name:"Nom",url:"URL",createdAt:"Ajouté le",infos:"Infos",selectedFiles:"éléments sélectionnés",add:"Ajouter",readonlyDir:"Répertoire en lecture seule.",max:"max.",min:"min.",px:"px"},en:{cancel:"Cancel",editAndSelect:"Edit and Select",continue:"Continue",select:"Select",return:"Return",disableRules:"Disable validation rules to change locks ",directoryName:"Directory name",readonly:"Read only",editable:"Editable",access:"Access",downloadAll:"Download all directory",name:"Name",url:"URL",createdAt:"Created at",infos:"Infos",selectedFiles:"selected files",add:"Add",readonlyDir:"Read-only directory.",max:"max.",min:"min.",px:"px"}};t.createFileManager=function(t,e){"string"==typeof t&&(t=document.querySelector(t)),e||(e=JSON.parse(t.dataset.props));let i=e.locale||"en";const n=Co(fc);return n.directive("scroll-lock",Pc),n.use(zc(e)),n.use(Fo({locale:i,fallbackLocale:i,messages:Xc})),n.mount(t),n},t.openFileManager=function(t,e,i){let n=document.createElement("div");document.body.appendChild(n);let o=t.locale||"en";function a(){c.$el.removeEventListener("selectFiles",r),c.$el.removeEventListener("abortSelect",s),l.unmount(),c.$el.remove()}function r(t){if(e){let i=[];for(let e=0;e<t.detail.length;e++)i.push(ie(t.detail[e]));e(ie(i))}a()}function s(t){i&&i(),a()}const l=Co(Cc);l.directive("scroll-lock",Pc),l.use(zc(t)),l.use(Fo({locale:o,fallbackLocale:o,messages:Xc}));const c=l.mount(n);c.$el.addEventListener("selectFiles",r),c.$el.addEventListener("abortSelect",s)},Object.defineProperty(t,"__esModule",{value:!0}),t[Symbol.toStringTag]="Module"}));
